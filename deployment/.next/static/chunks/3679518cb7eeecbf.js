(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95187,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s={callServer:function(){return i.callServer},createServerReference:function(){return n.createServerReference},findSourceMapURL:function(){return l.findSourceMapURL}};for(var r in s)Object.defineProperty(a,r,{enumerable:!0,get:s[r]});let i=e.r(32120),l=e.r(92245),n=e.r(35326)},73741,e=>{"use strict";var t=e.i(71645);e.i(74080);var a=e.i(20783),s=e.i(43476),r=Symbol.for("react.lazy"),i=t[" use ".trim().toString()];function l(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===r&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var n=Symbol("radix.slottable");function o(e){return t.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===n}var c=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{var n,c;let d,u,p,m=(c=n=`Primitive.${r}`,(d=t.forwardRef((e,s)=>{let{children:r,...n}=e;if(l(r)&&"function"==typeof i&&(r=i(r._payload)),t.isValidElement(r)){var o;let e,i,l=(o=r,(i=(e=Object.getOwnPropertyDescriptor(o.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.ref:(i=(e=Object.getOwnPropertyDescriptor(o,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.props.ref:o.props.ref||o.ref),c=function(e,t){let a={...t};for(let s in t){let r=e[s],i=t[s];/^on[A-Z]/.test(s)?r&&i?a[s]=(...e)=>{let t=i(...e);return r(...e),t}:r&&(a[s]=r):"style"===s?a[s]={...r,...i}:"className"===s&&(a[s]=[r,i].filter(Boolean).join(" "))}return{...e,...a}}(n,r.props);return r.type!==t.Fragment&&(c.ref=s?(0,a.composeRefs)(s,l):l),t.cloneElement(r,c)}return t.Children.count(r)>1?t.Children.only(null):null})).displayName=`${c}.SlotClone`,u=d,(p=t.forwardRef((e,a)=>{let{children:r,...n}=e;l(r)&&"function"==typeof i&&(r=i(r._payload));let c=t.Children.toArray(r),d=c.find(o);if(d){let e=d.props.children,r=c.map(a=>a!==d?a:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,s.jsx)(u,{...n,ref:a,children:t.isValidElement(e)?t.cloneElement(e,void 0,r):null})}return(0,s.jsx)(u,{...n,ref:a,children:r})})).displayName=`${n}.Slot`,p),f=t.forwardRef((e,t)=>{let{asChild:a,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(a?m:r,{...i,ref:t})});return f.displayName=`Primitive.${r}`,{...e,[r]:f}},{}),d=t.forwardRef((e,t)=>(0,s.jsx)(c.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));d.displayName="Label",e.s(["Label",()=>d,"Root",()=>d],73741)},10204,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(73741),r=e.i(25913),i=e.i(75157);let l=(0,r.cva)("text-label-md font-medium leading-none text-on-surface peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),n=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)(s.Root,{ref:r,className:(0,i.cn)(l(),e),...a}));n.displayName=s.Root.displayName,e.s(["Label",()=>n])},24687,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(75157);let r=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("textarea",{className:(0,s.cn)("flex min-h-[96px] w-full rounded-lg border border-outline bg-surface px-space-md py-space-sm text-body-md text-on-surface shadow-level-1 ring-offset-surface transition placeholder:text-on-surface-variant/70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-surface disabled:cursor-not-allowed disabled:opacity-60",e),ref:r,...a}));r.displayName="Textarea",e.s(["Textarea",()=>r])},27612,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],27612)},71066,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(7233),r=e.i(27612),i=e.i(19455),l=e.i(93479),n=e.i(10204),o=e.i(24687),c=e.i(95187),d=(0,c.createServerReference)("409d3b94172745bfdf80e761bebe13a901a8b478f8",c.callServer,void 0,c.findSourceMapURL,"saveSupports");function u({urgent:e,mutualAid:c}){let[u,p]=(0,a.useState)(e),[m,f]=(0,a.useState)(c),h=(0,a.useMemo)(()=>({urgent:JSON.stringify(u),mutualAid:JSON.stringify(m)}),[u,m]),x=(e,t,a)=>{p(s=>s.map((s,r)=>r===e?{...s,[t]:a}:s))},y=(e,t,a,s)=>{p(r=>r.map((r,i)=>{if(i!==e)return r;let l=(r.contacts??[]).map((e,r)=>r===t?{...e,[a]:s}:e);return{...r,contacts:l}}))};return(0,t.jsxs)("form",{action:d,className:"space-y-space-lg",children:[(0,t.jsx)("input",{type:"hidden",name:"urgent_supports_json",value:h.urgent}),(0,t.jsx)("input",{type:"hidden",name:"mutual_aid_json",value:h.mutualAid}),(0,t.jsxs)("div",{className:"space-y-space-sm",children:[u.map((e,a)=>(0,t.jsxs)("div",{className:"space-y-space-sm rounded-xl border border-border bg-card/40 p-space-md",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-space-sm",children:[(0,t.jsxs)("div",{className:"space-y-space-2xs flex-1",children:[(0,t.jsx)(n.Label,{htmlFor:`title-${a}`,children:"Title"}),(0,t.jsx)(l.Input,{id:`title-${a}`,value:e.title,onChange:e=>x(a,"title",e.target.value),required:!0,maxLength:120})]}),(0,t.jsx)(i.Button,{type:"button",variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>p(e=>e.filter((e,t)=>t!==a)),"aria-label":`Remove support ${e.title||a+1}`,children:(0,t.jsx)(r.Trash2,{className:"h-4 w-4","aria-hidden":!0})})]}),(0,t.jsxs)("div",{className:"space-y-space-2xs",children:[(0,t.jsx)(n.Label,{htmlFor:`summary-${a}`,children:"Summary"}),(0,t.jsx)(o.Textarea,{id:`summary-${a}`,value:e.summary,onChange:e=>x(a,"summary",e.target.value),required:!0,rows:2})]}),(0,t.jsxs)("div",{className:"space-y-space-2xs",children:[(0,t.jsx)(n.Label,{htmlFor:`body-${a}`,children:"Body"}),(0,t.jsx)(o.Textarea,{id:`body-${a}`,value:e.body,onChange:e=>x(a,"body",e.target.value),required:!0,rows:3})]}),(0,t.jsxs)("div",{className:"space-y-space-2xs",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(n.Label,{children:"Contacts"}),(0,t.jsxs)(i.Button,{type:"button",variant:"ghost",onClick:()=>p(e=>e.map((e,t)=>t===a?{...e,contacts:[...e.contacts??[],{label:"",href:""}]}:e)),className:"gap-2",children:[(0,t.jsx)(s.Plus,{className:"h-4 w-4","aria-hidden":!0}),"Add contact"]})]}),(0,t.jsx)("div",{className:"space-y-space-xs",children:(e.contacts??[]).map((e,s)=>(0,t.jsxs)("div",{className:"grid gap-space-xs md:grid-cols-[1fr,1fr,auto]",children:[(0,t.jsx)(l.Input,{placeholder:"Label (e.g., Dial 2-1-1)",value:e.label,onChange:e=>y(a,s,"label",e.target.value),required:!0}),(0,t.jsx)(l.Input,{placeholder:"Href (e.g., tel:211 or https://...)",value:e.href??"",onChange:e=>y(a,s,"href",e.target.value)}),(0,t.jsx)(i.Button,{type:"button",variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>p(e=>e.map((e,t)=>{if(t!==a)return e;let r=(e.contacts??[]).filter((e,t)=>t!==s);return{...e,contacts:r}})),"aria-label":"Remove contact",children:(0,t.jsx)(r.Trash2,{className:"h-4 w-4","aria-hidden":!0})})]},`${e.label}-${s}`))})]})]},`${e.title}-${a}`)),(0,t.jsxs)(i.Button,{type:"button",variant:"outline",onClick:()=>p(e=>[...e,{title:"",summary:"",body:"",contacts:[{label:"",href:""}]}]),className:"gap-2",children:[(0,t.jsx)(s.Plus,{className:"h-4 w-4","aria-hidden":!0}),"Add support entry"]})]}),(0,t.jsxs)("div",{className:"space-y-space-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-title-md",children:"Mutual aid notes"}),(0,t.jsx)("p",{className:"text-body-sm text-muted-foreground",children:"Shown as a list beneath urgent supports."})]}),(0,t.jsxs)(i.Button,{type:"button",variant:"outline",onClick:()=>f(e=>[...e,""]),className:"gap-2",children:[(0,t.jsx)(s.Plus,{className:"h-4 w-4","aria-hidden":!0}),"Add item"]})]}),(0,t.jsx)("div",{className:"space-y-space-xs",children:m.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center gap-space-xs",children:[(0,t.jsx)(l.Input,{value:e,onChange:e=>{let t;return t=e.target.value,f(e=>e.map((e,s)=>s===a?t:e))},required:!0,className:"flex-1"}),(0,t.jsx)(i.Button,{type:"button",variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>f(e=>e.filter((e,t)=>t!==a)),"aria-label":"Remove mutual aid item",children:(0,t.jsx)(r.Trash2,{className:"h-4 w-4","aria-hidden":!0})})]},`${e}-${a}`))})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-space-sm",children:[(0,t.jsx)(i.Button,{type:"submit",children:"Save supports"}),(0,t.jsx)("p",{className:"text-body-sm text-muted-foreground",children:"Changes appear on the public site immediately."})]})]})}e.s(["SupportsForm",()=>u],71066)}]);