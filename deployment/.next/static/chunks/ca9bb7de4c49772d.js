(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95187,(e,r,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s={callServer:function(){return i.callServer},createServerReference:function(){return d.createServerReference},findSourceMapURL:function(){return t.findSourceMapURL}};for(var l in s)Object.defineProperty(a,l,{enumerable:!0,get:s[l]});let i=e.r(32120),t=e.r(92245),d=e.r(35326)},73741,e=>{"use strict";var r=e.i(71645);e.i(74080);var a=e.i(20783),s=e.i(43476),l=Symbol.for("react.lazy"),i=r[" use ".trim().toString()];function t(e){var r;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===l&&"_payload"in e&&"object"==typeof(r=e._payload)&&null!==r&&"then"in r}var d=Symbol("radix.slottable");function n(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===d}var c=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,l)=>{var d,c;let o,p,m,u=(c=d=`Primitive.${l}`,(o=r.forwardRef((e,s)=>{let{children:l,...d}=e;if(t(l)&&"function"==typeof i&&(l=i(l._payload)),r.isValidElement(l)){var n;let e,i,t=(n=l,(i=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.ref:(i=(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.props.ref:n.props.ref||n.ref),c=function(e,r){let a={...r};for(let s in r){let l=e[s],i=r[s];/^on[A-Z]/.test(s)?l&&i?a[s]=(...e)=>{let r=i(...e);return l(...e),r}:l&&(a[s]=l):"style"===s?a[s]={...l,...i}:"className"===s&&(a[s]=[l,i].filter(Boolean).join(" "))}return{...e,...a}}(d,l.props);return l.type!==r.Fragment&&(c.ref=s?(0,a.composeRefs)(s,t):t),r.cloneElement(l,c)}return r.Children.count(l)>1?r.Children.only(null):null})).displayName=`${c}.SlotClone`,p=o,(m=r.forwardRef((e,a)=>{let{children:l,...d}=e;t(l)&&"function"==typeof i&&(l=i(l._payload));let c=r.Children.toArray(l),o=c.find(n);if(o){let e=o.props.children,l=c.map(a=>a!==o?a:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,s.jsx)(p,{...d,ref:a,children:r.isValidElement(e)?r.cloneElement(e,void 0,l):null})}return(0,s.jsx)(p,{...d,ref:a,children:l})})).displayName=`${d}.Slot`,m),h=r.forwardRef((e,r)=>{let{asChild:a,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(a?u:l,{...i,ref:r})});return h.displayName=`Primitive.${l}`,{...e,[l]:h}},{}),o=r.forwardRef((e,r)=>(0,s.jsx)(c.label,{...e,ref:r,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));o.displayName="Label",e.s(["Label",()=>o,"Root",()=>o],73741)},10204,e=>{"use strict";var r=e.i(43476),a=e.i(71645),s=e.i(73741),l=e.i(25913),i=e.i(75157);let t=(0,l.cva)("text-label-md font-medium leading-none text-on-surface peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef(({className:e,...a},l)=>(0,r.jsx)(s.Root,{ref:l,className:(0,i.cn)(t(),e),...a}));d.displayName=s.Root.displayName,e.s(["Label",()=>d])},24687,e=>{"use strict";var r=e.i(43476),a=e.i(71645),s=e.i(75157);let l=a.forwardRef(({className:e,...a},l)=>(0,r.jsx)("textarea",{className:(0,s.cn)("flex min-h-[96px] w-full rounded-lg border border-outline bg-surface px-space-md py-space-sm text-body-md text-on-surface shadow-level-1 ring-offset-surface transition placeholder:text-on-surface-variant/70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-surface disabled:cursor-not-allowed disabled:opacity-60",e),ref:l,...a}));l.displayName="Textarea",e.s(["Textarea",()=>l])},27612,e=>{"use strict";let r=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>r],27612)},73708,31278,e=>{"use strict";var r=e.i(75254);let a=(0,r.default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);e.s(["Image",()=>a],73708);let s=(0,r.default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>s],31278)},76627,e=>{"use strict";var r=e.i(43476),a=e.i(71645),s=e.i(73708),l=e.i(31278),i=e.i(7233),t=e.i(27612),d=e.i(19455),n=e.i(93479),c=e.i(10204),o=e.i(24687),p=e.i(95187),m=(0,p.createServerReference)("407badbe88f2937e15e291f1270977a49cbd744a6f",p.callServer,void 0,p.findSourceMapURL,"saveHomeSettings"),u=(0,p.createServerReference)("40c78e145028d3ed019993c61524bde070d7ca5609",p.callServer,void 0,p.findSourceMapURL,"uploadHeroImage");function h({hero:e,contextCards:p}){let[h,f]=(0,a.useState)(p),[x,y]=(0,a.useState)(e.imageUrl??""),[g,b]=(0,a.useTransition)(),j=(e,r,a)=>{f(s=>s.map((s,l)=>l===e?{...s,[r]:a}:s))};return(0,r.jsxs)("form",{action:m,className:"space-y-space-lg",children:[(0,r.jsx)("input",{type:"hidden",name:"hero_image_url",value:x}),(0,r.jsx)("input",{type:"hidden",name:"context_cards_json",value:JSON.stringify(h)}),(0,r.jsxs)("div",{className:"grid gap-space-md md:grid-cols-2",children:[(0,r.jsxs)("div",{className:"space-y-space-sm",children:[(0,r.jsx)(c.Label,{htmlFor:"hero_pill",children:"Pill label"}),(0,r.jsx)(n.Input,{id:"hero_pill",name:"hero_pill",defaultValue:e.pill,required:!0,maxLength:120})]}),(0,r.jsxs)("div",{className:"space-y-space-sm",children:[(0,r.jsx)(c.Label,{htmlFor:"hero_headline",children:"Headline"}),(0,r.jsx)(n.Input,{id:"hero_headline",name:"hero_headline",defaultValue:e.headline,required:!0,maxLength:200})]})]}),(0,r.jsxs)("div",{className:"space-y-space-sm",children:[(0,r.jsx)(c.Label,{htmlFor:"hero_body",children:"Body"}),(0,r.jsx)(o.Textarea,{id:"hero_body",name:"hero_body",defaultValue:e.body,required:!0,rows:3})]}),(0,r.jsxs)("div",{className:"space-y-space-sm",children:[(0,r.jsx)(c.Label,{htmlFor:"hero_supporting",children:"Supporting line"}),(0,r.jsx)(o.Textarea,{id:"hero_supporting",name:"hero_supporting",defaultValue:e.supporting,required:!0,rows:2})]}),(0,r.jsxs)("div",{className:"grid gap-space-md md:grid-cols-[2fr,1fr]",children:[(0,r.jsxs)("div",{className:"space-y-space-sm",children:[(0,r.jsx)(c.Label,{htmlFor:"hero_image_alt",children:"Hero image alt text"}),(0,r.jsx)(n.Input,{id:"hero_image_alt",name:"hero_image_alt",defaultValue:e.imageAlt??"",placeholder:"Describe the photo for people using screen readers",maxLength:200}),(0,r.jsx)("p",{className:"text-body-sm text-muted-foreground",children:"Required if an image is present. Keep it concise and specific."})]}),(0,r.jsxs)("div",{className:"space-y-space-xs rounded-lg border border-border bg-surface p-space-sm",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-space-xs",children:[(0,r.jsxs)("div",{className:"space-y-space-2xs",children:[(0,r.jsx)("p",{className:"text-title-sm",children:"Hero image"}),(0,r.jsx)("p",{className:"text-body-sm text-muted-foreground",children:"JPEG/PNG, up to 5 MB. Stored in app-branding bucket."})]}),(0,r.jsxs)("label",{className:"inline-flex items-center gap-2 rounded-md border border-border bg-card px-3 py-2 text-body-sm font-medium text-on-surface shadow-sm transition hover:bg-surface cursor-pointer",children:[(0,r.jsx)(s.Image,{className:"h-4 w-4","aria-hidden":!0}),g?"Uploading…":"Upload",(0,r.jsx)("input",{type:"file",accept:"image/*",className:"sr-only",onChange:e=>{var r;(r=e.target.files?.[0]??null)&&b(async()=>{try{let e=new FormData;e.append("file",r);let a=await u(e);y(a.url)}catch(e){console.error(e),alert("Upload failed. Please try again or use a smaller image.")}})},disabled:g})]})]}),(0,r.jsx)("div",{className:"relative aspect-video overflow-hidden rounded-md border border-dashed border-border bg-muted/30",children:g?(0,r.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center gap-2 text-muted-foreground",children:[(0,r.jsx)(l.Loader2,{className:"h-4 w-4 animate-spin","aria-hidden":!0}),(0,r.jsx)("span",{children:"Uploading image…"})]}):x?(0,r.jsx)("img",{src:x,alt:e.imageAlt??"",className:"h-full w-full object-cover"}):(0,r.jsx)("div",{className:"flex h-full items-center justify-center text-body-sm text-muted-foreground",children:"No image selected"})}),x?(0,r.jsx)("p",{className:"text-body-xs text-muted-foreground break-all",children:x}):null]})]}),(0,r.jsxs)("div",{className:"grid gap-space-md md:grid-cols-2",children:[(0,r.jsxs)("div",{className:"space-y-space-sm",children:[(0,r.jsx)(c.Label,{htmlFor:"hero_primary_label",children:"Primary CTA label"}),(0,r.jsx)(n.Input,{id:"hero_primary_label",name:"hero_primary_label",defaultValue:e.primaryCta.label,required:!0})]}),(0,r.jsxs)("div",{className:"space-y-space-sm",children:[(0,r.jsx)(c.Label,{htmlFor:"hero_primary_href",children:"Primary CTA href"}),(0,r.jsx)(n.Input,{id:"hero_primary_href",name:"hero_primary_href",defaultValue:e.primaryCta.href,required:!0,placeholder:"/get-help"})]})]}),(0,r.jsxs)("div",{className:"grid gap-space-md md:grid-cols-2",children:[(0,r.jsxs)("div",{className:"space-y-space-sm",children:[(0,r.jsx)(c.Label,{htmlFor:"hero_secondary_label",children:"Secondary link label"}),(0,r.jsx)(n.Input,{id:"hero_secondary_label",name:"hero_secondary_label",defaultValue:e.secondaryLink?.label??""})]}),(0,r.jsxs)("div",{className:"space-y-space-sm",children:[(0,r.jsx)(c.Label,{htmlFor:"hero_secondary_href",children:"Secondary link href"}),(0,r.jsx)(n.Input,{id:"hero_secondary_href",name:"hero_secondary_href",defaultValue:e.secondaryLink?.href??""})]})]}),(0,r.jsxs)("div",{className:"space-y-space-sm",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-title-md",children:"Context cards"}),(0,r.jsx)("p",{className:"text-body-sm text-muted-foreground",children:"Shown under “How we got here”."})]}),(0,r.jsxs)(d.Button,{type:"button",variant:"outline",onClick:()=>f(e=>[...e,{id:"",title:"",description:"",href:"/context#"}]),className:"gap-2",children:[(0,r.jsx)(i.Plus,{className:"h-4 w-4","aria-hidden":!0}),"Add card"]})]}),(0,r.jsx)("div",{className:"space-y-space-sm",children:h.map((e,a)=>(0,r.jsxs)("div",{className:"grid gap-space-xs rounded-lg border border-border bg-card/40 p-space-sm md:grid-cols-[1fr,1fr]",children:[(0,r.jsxs)("div",{className:"space-y-space-2xs",children:[(0,r.jsx)(c.Label,{htmlFor:`card-id-${a}`,children:"ID / anchor"}),(0,r.jsx)(n.Input,{id:`card-id-${a}`,value:e.id,onChange:e=>j(a,"id",e.target.value),required:!0,placeholder:"housing"})]}),(0,r.jsxs)("div",{className:"space-y-space-2xs",children:[(0,r.jsx)(c.Label,{htmlFor:`card-title-${a}`,children:"Title"}),(0,r.jsx)(n.Input,{id:`card-title-${a}`,value:e.title,onChange:e=>j(a,"title",e.target.value),required:!0})]}),(0,r.jsxs)("div",{className:"space-y-space-2xs md:col-span-2",children:[(0,r.jsx)(c.Label,{htmlFor:`card-description-${a}`,children:"Description"}),(0,r.jsx)(o.Textarea,{id:`card-description-${a}`,value:e.description,onChange:e=>j(a,"description",e.target.value),required:!0})]}),(0,r.jsxs)("div",{className:"space-y-space-2xs",children:[(0,r.jsx)(c.Label,{htmlFor:`card-href-${a}`,children:"Href"}),(0,r.jsx)(n.Input,{id:`card-href-${a}`,value:e.href,onChange:e=>j(a,"href",e.target.value),required:!0,placeholder:"/context#housing"})]}),(0,r.jsx)("div",{className:"flex items-end justify-end",children:(0,r.jsx)(d.Button,{type:"button",variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>f(e=>e.filter((e,r)=>r!==a)),"aria-label":`Remove ${e.title||"context card"}`,children:(0,r.jsx)(t.Trash2,{className:"h-4 w-4","aria-hidden":!0})})})]},`${e.id||"card"}-${a}`))})]}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-space-sm",children:[(0,r.jsx)(d.Button,{type:"submit",children:"Save home & context"}),(0,r.jsx)("p",{className:"text-body-sm text-muted-foreground",children:"Saves publish to the public site immediately."})]})]})}e.s(["HomeForm",()=>h],76627)}]);