(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,29288,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(72310),a=e.i(14683),n=e.i(75157),i=e.i(57202);let l=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)(s.Root,{className:(0,n.cn)("grid gap-space-xs",e),...r,ref:a}));l.displayName=s.Root.displayName;let o=r.forwardRef(({className:e,...r},l)=>(0,t.jsx)(s.Item,{ref:l,className:(0,n.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary transition-colors motion-duration-short motion-ease-standard ring-offset-surface focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:(0,t.jsx)(s.Indicator,{className:"flex items-center justify-center",children:(0,t.jsx)(i.Icon,{icon:a.Circle,className:"fill-current text-current",size:"control"})})}));o.displayName=s.Item.displayName,e.s(["RadioGroup",()=>l,"RadioGroupItem",()=>o])},10204,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(73741),a=e.i(25913),n=e.i(75157);let i=(0,a.cva)("text-label-md font-medium leading-none text-on-surface peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)(s.Root,{ref:a,className:(0,n.cn)(i(),e),...r}));l.displayName=s.Root.displayName,e.s(["Label",()=>l])},73741,e=>{"use strict";var t=e.i(71645);e.i(74080);var r=e.i(20783),s=e.i(43476),a=Symbol.for("react.lazy"),n=t[" use ".trim().toString()];function i(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===a&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var l=Symbol("radix.slottable");function o(e){return t.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===l}var d=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{var l,d;let c,u,p,m=(d=l=`Primitive.${a}`,(c=t.forwardRef((e,s)=>{let{children:a,...l}=e;if(i(a)&&"function"==typeof n&&(a=n(a._payload)),t.isValidElement(a)){var o;let e,n,i=(o=a,(n=(e=Object.getOwnPropertyDescriptor(o.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.ref:(n=(e=Object.getOwnPropertyDescriptor(o,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.props.ref:o.props.ref||o.ref),d=function(e,t){let r={...t};for(let s in t){let a=e[s],n=t[s];/^on[A-Z]/.test(s)?a&&n?r[s]=(...e)=>{let t=n(...e);return a(...e),t}:a&&(r[s]=a):"style"===s?r[s]={...a,...n}:"className"===s&&(r[s]=[a,n].filter(Boolean).join(" "))}return{...e,...r}}(l,a.props);return a.type!==t.Fragment&&(d.ref=s?(0,r.composeRefs)(s,i):i),t.cloneElement(a,d)}return t.Children.count(a)>1?t.Children.only(null):null})).displayName=`${d}.SlotClone`,u=c,(p=t.forwardRef((e,r)=>{let{children:a,...l}=e;i(a)&&"function"==typeof n&&(a=n(a._payload));let d=t.Children.toArray(a),c=d.find(o);if(c){let e=c.props.children,a=d.map(r=>r!==c?r:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,s.jsx)(u,{...l,ref:r,children:t.isValidElement(e)?t.cloneElement(e,void 0,a):null})}return(0,s.jsx)(u,{...l,ref:r,children:a})})).displayName=`${l}.Slot`,p),x=t.forwardRef((e,t)=>{let{asChild:r,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(r?m:a,{...n,ref:t})});return x.displayName=`Primitive.${a}`,{...e,[a]:x}},{}),c=t.forwardRef((e,t)=>(0,s.jsx)(d.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));c.displayName="Label",e.s(["Label",()=>c,"Root",()=>c],73741)},99682,e=>{"use strict";var t=e.i(71645);function r(e){let r=t.useRef({value:e,previous:e});return t.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}e.s(["usePrevious",()=>r])},72310,e=>{"use strict";var t=e.i(71645),r=e.i(81140),s=e.i(20783),a=e.i(30030),n=e.i(48425),i=e.i(42727),l=e.i(69340),o=e.i(86318),d=e.i(35804),c=e.i(99682),u=e.i(96626),p=e.i(43476),m="Radio",[x,h]=(0,a.createContextScope)(m),[f,g]=x(m),y=t.forwardRef((e,a)=>{let{__scopeRadio:i,name:l,checked:o=!1,required:d,disabled:c,value:u="on",onCheck:m,form:x,...h}=e,[g,y]=t.useState(null),j=(0,s.useComposedRefs)(a,e=>y(e)),b=t.useRef(!1),w=!g||x||!!g.closest("form");return(0,p.jsxs)(f,{scope:i,checked:o,disabled:c,children:[(0,p.jsx)(n.Primitive.button,{type:"button",role:"radio","aria-checked":o,"data-state":N(o),"data-disabled":c?"":void 0,disabled:c,value:u,...h,ref:j,onClick:(0,r.composeEventHandlers)(e.onClick,e=>{o||m?.(),w&&(b.current=e.isPropagationStopped(),b.current||e.stopPropagation())})}),w&&(0,p.jsx)(v,{control:g,bubbles:!b.current,name:l,value:u,checked:o,required:d,disabled:c,form:x,style:{transform:"translateX(-100%)"}})]})});y.displayName=m;var j="RadioIndicator",b=t.forwardRef((e,t)=>{let{__scopeRadio:r,forceMount:s,...a}=e,i=g(j,r);return(0,p.jsx)(u.Presence,{present:s||i.checked,children:(0,p.jsx)(n.Primitive.span,{"data-state":N(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});b.displayName=j;var v=t.forwardRef(({__scopeRadio:e,control:r,checked:a,bubbles:i=!0,...l},o)=>{let u=t.useRef(null),m=(0,s.useComposedRefs)(u,o),x=(0,c.usePrevious)(a),h=(0,d.useSize)(r);return t.useEffect(()=>{let e=u.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(x!==a&&t){let r=new Event("click",{bubbles:i});t.call(e,a),e.dispatchEvent(r)}},[x,a,i]),(0,p.jsx)(n.Primitive.input,{type:"radio","aria-hidden":!0,defaultChecked:a,...l,tabIndex:-1,ref:m,style:{...l.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function N(e){return e?"checked":"unchecked"}v.displayName="RadioBubbleInput";var w=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],_="RadioGroup",[R,A]=(0,a.createContextScope)(_,[i.createRovingFocusGroupScope,h]),I=(0,i.createRovingFocusGroupScope)(),S=h(),[C,E]=R(_),L=t.forwardRef((e,t)=>{let{__scopeRadioGroup:r,name:s,defaultValue:a,value:d,required:c=!1,disabled:u=!1,orientation:m,dir:x,loop:h=!0,onValueChange:f,...g}=e,y=I(r),j=(0,o.useDirection)(x),[b,v]=(0,l.useControllableState)({prop:d,defaultProp:a??null,onChange:f,caller:_});return(0,p.jsx)(C,{scope:r,name:s,required:c,disabled:u,value:b,onValueChange:v,children:(0,p.jsx)(i.Root,{asChild:!0,...y,orientation:m,dir:j,loop:h,children:(0,p.jsx)(n.Primitive.div,{role:"radiogroup","aria-required":c,"aria-orientation":m,"data-disabled":u?"":void 0,dir:j,...g,ref:t})})})});L.displayName=_;var O="RadioGroupItem",P=t.forwardRef((e,a)=>{let{__scopeRadioGroup:n,disabled:l,...o}=e,d=E(O,n),c=d.disabled||l,u=I(n),m=S(n),x=t.useRef(null),h=(0,s.useComposedRefs)(a,x),f=d.value===o.value,g=t.useRef(!1);return t.useEffect(()=>{let e=e=>{w.includes(e.key)&&(g.current=!0)},t=()=>g.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,p.jsx)(i.Item,{asChild:!0,...u,focusable:!c,active:f,children:(0,p.jsx)(y,{disabled:c,required:d.required,checked:f,...m,...o,name:d.name,ref:h,onCheck:()=>d.onValueChange(o.value),onKeyDown:(0,r.composeEventHandlers)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,r.composeEventHandlers)(o.onFocus,()=>{g.current&&x.current?.click()})})})});P.displayName=O;var V=t.forwardRef((e,t)=>{let{__scopeRadioGroup:r,...s}=e,a=S(r);return(0,p.jsx)(b,{...a,...s,ref:t})});V.displayName="RadioGroupIndicator",e.s(["Indicator",()=>V,"Item",()=>P,"RadioGroup",()=>L,"RadioGroupIndicator",()=>V,"RadioGroupItem",()=>P,"Root",()=>L,"createRadioGroupScope",()=>A])},37801,e=>{"use strict";function t(e){let t=function(e){if("string"!=typeof e)return;let t=e.trim();if(!t)return;let r=t.startsWith("+"),s=t.replace(/\D+/g,"");if(s){if(r)return`+${s}`;if(10===s.length)return`+1${s}`;if(s.length>10)return`+${s}`}}(e);if(!t)return"";let r=t.slice(-4),s=t.slice(0,Math.max(2,t.length-4)).replace(/\d/g,"*");return`${s}${r}`}e.s(["maskPhoneNumber",()=>t])},85149,e=>{"use strict";e.s(["NEW_ORGANIZATION_VALUE",0,"__new_org__","NO_ORGANIZATION_VALUE",0,"__none__","PUBLIC_MEMBER_ROLE_LABEL",0,"Member of the public"])},61613,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(74080),a=e.i(19455),n=e.i(93479),i=e.i(10204),l=e.i(67489),o=e.i(29288),d=e.i(29592),c=e.i(85149);function u({organizations:e,initialState:s,action:a,initialValues:u,affiliationOptions:h,livedExperienceOptions:f}){let[g,y]=(0,r.useActionState)(a,s),j=u.organizationId??(u.requestedOrganizationName?c.NEW_ORGANIZATION_VALUE:c.NO_ORGANIZATION_VALUE),b=new Set(h.map(e=>e.value)),[v,N]=(0,r.useState)(j),w=b.has(u.affiliationType)?u.affiliationType:h[0]?.value??"community_member",[_,R]=(0,r.useState)(w),[A,I]=(0,r.useState)(u.homelessnessExperience),[S,C]=(0,r.useState)(u.substanceUseExperience);(0,r.useEffect)(()=>{"community_member"===_&&(0,r.startTransition)(()=>{N(c.NO_ORGANIZATION_VALUE)})},[_]);let E="community_member"!==_,L=v===c.NEW_ORGANIZATION_VALUE,O=new Map(e.map(e=>[e.id,e.name])),P="community_member"===_,V="pending"===u.affiliationStatus?function({affiliationType:e,organizationId:t,requestedOrganizationName:r,organizationMap:s}){if("agency_partner"===e){let e=r?`"${r}"`:t?s.get(t)??"your organization":"your organization";return`Pending moderator review for ${e}.`}return null}({affiliationType:w,organizationId:u.organizationId,requestedOrganizationName:u.requestedOrganizationName,organizationMap:O}):null;return(0,t.jsxs)("form",{action:y,className:"space-y-space-lg rounded-3xl border border-outline/40 bg-surface p-space-lg shadow-level-1",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-space-xs",children:[(0,t.jsx)("h2",{className:"text-title-lg font-medium text-on-surface",children:"Profile details"}),(0,t.jsx)("p",{className:"text-body-sm text-muted-foreground",children:"Update how neighbours see you in STEVI and confirm the IHARC role you collaborate with."})]}),V?(0,t.jsxs)(d.Alert,{className:"border-primary bg-primary-container text-body-sm text-on-primary-container",children:[(0,t.jsx)(d.AlertTitle,{children:"Verification in progress"}),(0,t.jsx)(d.AlertDescription,{children:V})]}):null,"success"===g.status&&g.message?(0,t.jsx)(d.Alert,{className:"border-primary bg-primary-container text-body-sm text-on-primary-container",children:(0,t.jsx)(d.AlertDescription,{children:g.message})}):null,g.error?(0,t.jsxs)(d.Alert,{variant:"destructive",className:"text-body-sm",children:[(0,t.jsx)(d.AlertTitle,{children:"We could not save your updates"}),(0,t.jsx)(d.AlertDescription,{children:g.error})]}):null,(0,t.jsxs)("div",{className:"grid gap-space-xs",children:[(0,t.jsx)(i.Label,{htmlFor:"display_name",children:"Display name"}),(0,t.jsx)(n.Input,{id:"display_name",name:"display_name",required:!0,defaultValue:u.displayName,maxLength:80,placeholder:"How should neighbours refer to you?"})]}),(0,t.jsxs)("div",{className:"grid gap-space-sm",children:[(0,t.jsx)(i.Label,{children:"How do you collaborate with IHARC?"}),(0,t.jsx)(o.RadioGroup,{name:"affiliation_type",value:_,onValueChange:e=>R(e),className:"grid gap-space-sm md:grid-cols-2",children:h.map(e=>(0,t.jsx)(x,{id:`profile-affiliation-${e.value}`,value:e.value,title:e.label,description:`Collaborate as ${e.label}.`},e.value))})]}),E?(0,t.jsxs)("div",{className:"space-y-space-sm rounded-xl border border-outline/20 p-space-md",children:[(0,t.jsxs)("div",{className:"grid gap-space-xs",children:[(0,t.jsx)(i.Label,{htmlFor:"agency_organization_id",children:"Partner organization"}),(0,t.jsxs)(l.Select,{name:"agency_organization_id",value:v,onValueChange:N,children:[(0,t.jsx)(l.SelectTrigger,{id:"agency_organization_id",children:(0,t.jsx)(l.SelectValue,{placeholder:"Select your organization"})}),(0,t.jsxs)(l.SelectContent,{children:[(0,t.jsx)(l.SelectItem,{value:c.NO_ORGANIZATION_VALUE,disabled:!0,children:"Select your organization"}),e.map(e=>(0,t.jsx)(l.SelectItem,{value:e.id,children:e.name},e.id)),(0,t.jsx)(l.SelectItem,{value:c.NEW_ORGANIZATION_VALUE,children:"Request a new organization"})]})]})]}),L?(0,t.jsxs)("div",{className:"grid gap-space-xs",children:[(0,t.jsx)(i.Label,{htmlFor:"new_organization_name",children:"Organization name"}),(0,t.jsx)(n.Input,{id:"new_organization_name",name:"new_organization_name",placeholder:"Northumberland Outreach Network",minLength:3,required:!0,defaultValue:u.requestedOrganizationName??""})]}):(0,t.jsx)("input",{type:"hidden",name:"new_organization_name",value:""}),(0,t.jsxs)("div",{className:"grid gap-space-xs",children:[(0,t.jsx)(i.Label,{htmlFor:"position_title",children:"Role or position"}),(0,t.jsx)(n.Input,{id:"position_title",name:"position_title",placeholder:"Outreach worker, volunteer coordinator, peer navigator…",required:!0,defaultValue:u.positionTitle??""}),(0,t.jsx)("p",{className:"text-label-sm text-muted-foreground",children:"We share this internally so teams know how you collaborate with neighbours and partners."})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{type:"hidden",name:"agency_organization_id",value:c.NO_ORGANIZATION_VALUE}),(0,t.jsx)("input",{type:"hidden",name:"new_organization_name",value:""})]}),P?(0,t.jsx)("input",{type:"hidden",name:"position_title",value:c.PUBLIC_MEMBER_ROLE_LABEL}):null,(0,t.jsxs)("div",{className:"grid gap-space-xs",children:[(0,t.jsx)(i.Label,{htmlFor:"homelessness_experience",children:"Homelessness lived experience badge"}),(0,t.jsxs)(l.Select,{name:"homelessness_experience",value:A,onValueChange:e=>I(e),children:[(0,t.jsx)(l.SelectTrigger,{id:"homelessness_experience",children:(0,t.jsx)(l.SelectValue,{placeholder:"Select lived experience"})}),(0,t.jsx)(l.SelectContent,{children:f.map(e=>(0,t.jsx)(l.SelectItem,{value:e.value,children:e.label},e.value))})]}),(0,t.jsx)(m,{selectedValue:A,options:f})]}),(0,t.jsxs)("div",{className:"grid gap-space-xs",children:[(0,t.jsx)(i.Label,{htmlFor:"substance_use_experience",children:"Substance use lived experience badge"}),(0,t.jsxs)(l.Select,{name:"substance_use_experience",value:S,onValueChange:e=>C(e),children:[(0,t.jsx)(l.SelectTrigger,{id:"substance_use_experience",children:(0,t.jsx)(l.SelectValue,{placeholder:"Select lived experience"})}),(0,t.jsx)(l.SelectContent,{children:f.map(e=>(0,t.jsx)(l.SelectItem,{value:e.value,children:e.label},e.value))})]}),(0,t.jsx)(m,{selectedValue:S,options:f})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(p,{})})]})}function p(){let{pending:e}=(0,s.useFormStatus)();return(0,t.jsx)(a.Button,{type:"submit",disabled:e,children:e?"Saving…":"Save changes"})}function m({selectedValue:e,options:r}){let s=r.find(t=>t.value===e);return s?(0,t.jsx)("p",{className:"text-label-sm text-muted-foreground",children:s.description}):null}function x({id:e,value:r,title:s,description:a}){return(0,t.jsxs)("label",{htmlFor:e,className:"flex cursor-pointer items-start gap-space-sm rounded-xl border border-outline/40 bg-surface-container p-space-md text-body-sm font-medium text-on-surface shadow-level-1 transition state-layer-color-primary hover:border-primary hover:state-layer-hover focus-within:outline-none focus-within:ring-2 focus-within:ring-primary focus-within:state-layer-focus",children:[(0,t.jsx)(o.RadioGroupItem,{id:e,value:r,className:"mt-1"}),(0,t.jsxs)("span",{children:[s,(0,t.jsx)("span",{className:"mt-space-2xs block text-label-sm font-normal text-muted-foreground",children:a})]})]})}e.s(["ProfileDetailsForm",()=>u])},10093,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(74080),a=e.i(19455),n=e.i(93479),i=e.i(10204),l=e.i(29592),o=e.i(37801);function d({initialEmail:e,initialPhone:s,emailAction:d,phoneAction:p,initialEmailState:m,initialPhoneState:x}){let[h,f]=(0,r.useActionState)(d,m),[g,y]=(0,r.useActionState)(p,x),[j,b]=(0,r.useState)(s??""),v="otp_sent"===g.status;(0,r.useEffect)(()=>{if("success"===g.status&&g.phone){let e=g.phone;(0,r.startTransition)(()=>{b(e)})}"idle"!==g.status||v||void 0!==g.phone||!s||j||(0,r.startTransition)(()=>{b(s)})},[g,v,s,j]);let N=(0,r.useMemo)(()=>v?g.maskedPhone??(g.phone?(0,o.maskPhoneNumber)(g.phone):null):j?(0,o.maskPhoneNumber)(j)||j:null,[v,g.maskedPhone,g.phone,j]);return(0,t.jsxs)("section",{className:"grid gap-space-lg rounded-3xl border border-outline/20 bg-surface p-space-lg shadow-level-1",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-space-xs",children:[(0,t.jsx)("h2",{className:"text-title-lg font-medium text-on-surface",children:"Contact preferences"}),(0,t.jsx)("p",{className:"text-body-sm text-on-surface/70",children:"Let outreach staff know the best way to reach you about appointments, documents, and plan updates."})]}),(0,t.jsxs)("form",{action:f,className:"grid gap-space-sm",children:[(0,t.jsxs)("div",{className:"grid gap-space-xs",children:[(0,t.jsx)(i.Label,{htmlFor:"profile-email",children:"Email"}),(0,t.jsx)(n.Input,{id:"profile-email",name:"email",type:"email",autoComplete:"email",defaultValue:e??"",placeholder:"you@example.ca"}),(0,t.jsx)("p",{className:"text-label-sm text-muted-foreground",children:"We send verification, document links, and password reset emails here. Leave blank if you prefer phone updates only."})]}),(0,t.jsxs)("div",{className:"flex flex-col items-start gap-space-xs sm:flex-row sm:items-center sm:gap-space-sm",children:[(0,t.jsx)(c,{}),h.message?(0,t.jsx)("span",{className:`text-body-sm ${"success"===h.status?"text-primary":"text-muted-foreground"}`,role:"success"===h.status?"status":void 0,children:h.message}):null]}),h.error?(0,t.jsxs)(l.Alert,{variant:"destructive",className:"text-body-sm",children:[(0,t.jsx)(l.AlertTitle,{children:"We could not update your email"}),(0,t.jsx)(l.AlertDescription,{children:h.error})]}):null]}),(0,t.jsxs)("form",{action:y,className:"grid gap-space-sm",children:[(0,t.jsx)("input",{type:"hidden",name:"stage",value:v?"verify":"request"}),v?(0,t.jsx)("input",{type:"hidden",name:"otp_phone",value:g.phone??j}):null,(0,t.jsxs)("div",{className:"grid gap-space-xs",children:[(0,t.jsx)(i.Label,{htmlFor:"profile-phone",children:"Phone number"}),(0,t.jsx)(n.Input,{id:"profile-phone",name:"phone",type:"tel",autoComplete:"tel",inputMode:"tel",value:j,onChange:e=>b(e.target.value),placeholder:"+16475551234",disabled:v}),(0,t.jsx)("p",{className:"text-label-sm text-muted-foreground",children:"Include your country code so we can text verification codes or urgent appointment updates."})]}),v?(0,t.jsxs)("div",{className:"grid gap-space-xs",children:[(0,t.jsx)(i.Label,{htmlFor:"profile-phone-otp",children:"Verification code"}),(0,t.jsx)(n.Input,{id:"profile-phone-otp",name:"otp_code",inputMode:"numeric",pattern:"[0-9]*",maxLength:6,placeholder:"123456",required:!0}),(0,t.jsxs)("p",{className:"text-label-sm text-muted-foreground",children:["We texted a 6-digit code to ",N??"your phone number",". Codes expire after 5 minutes."]})]}):null,(0,t.jsxs)("div",{className:"flex flex-col items-start gap-space-xs sm:flex-row sm:items-center sm:gap-space-sm",children:[(0,t.jsx)(u,{otpPending:v}),v?(0,t.jsx)(a.Button,{type:"submit",name:"intent",value:"cancel",variant:"outline",className:"sm:w-auto",formNoValidate:!0,children:"Use a different number"}):null,!v&&g.message&&"success"!==g.status?(0,t.jsx)("span",{className:"text-body-sm text-muted-foreground",children:g.message}):null]}),g.error?(0,t.jsxs)(l.Alert,{variant:"destructive",className:"text-body-sm",children:[(0,t.jsx)(l.AlertTitle,{children:"We could not update your phone number"}),(0,t.jsx)(l.AlertDescription,{children:g.error})]}):null,v&&g.message?(0,t.jsx)(l.Alert,{className:"border-primary bg-primary-container text-body-sm text-on-primary-container",children:(0,t.jsx)(l.AlertDescription,{children:g.message})}):null,"success"===g.status&&g.message?(0,t.jsx)(l.Alert,{className:"border-secondary bg-secondary-container text-on-secondary-container",children:(0,t.jsx)(l.AlertDescription,{children:g.message})}):null]})]})}function c(){let{pending:e}=(0,s.useFormStatus)();return(0,t.jsx)(a.Button,{type:"submit",disabled:e,className:"w-full justify-center sm:w-auto",children:e?"Sending...":"Send verification link"})}function u({otpPending:e}){let{pending:r}=(0,s.useFormStatus)();return(0,t.jsx)(a.Button,{type:"submit",disabled:r,className:"w-full justify-center sm:w-auto",children:r?e?"Verifying...":"Sending...":e?"Verify code":"Text me a code"})}e.s(["ProfileContactCard",()=>d])},18911,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(74080),a=e.i(19455),n=e.i(93479),i=e.i(10204),l=e.i(29592);function o({action:e,initialState:s,hasEmail:a,hasPhone:o}){let[c,u]=(0,r.useActionState)(e,s);return(0,t.jsxs)("section",{className:"grid gap-space-lg rounded-3xl border border-outline/20 bg-surface p-space-lg shadow-level-1",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-space-xs",children:[(0,t.jsx)("h2",{className:"text-title-lg font-medium text-on-surface",children:"Password"}),(0,t.jsx)("p",{className:"text-body-sm text-on-surface/70",children:a&&o?"Update the password used with your email or phone sign in.":a?"Update the password used with your email sign in.":"Update the password used with your phone sign in."})]}),(0,t.jsxs)("form",{action:u,className:"grid gap-space-sm",children:[(0,t.jsxs)("div",{className:"grid gap-space-xs",children:[(0,t.jsx)(i.Label,{htmlFor:"current_password",children:"Current password"}),(0,t.jsx)(n.Input,{id:"current_password",name:"current_password",type:"password",autoComplete:"current-password",required:!0})]}),(0,t.jsxs)("div",{className:"grid gap-space-xs",children:[(0,t.jsx)(i.Label,{htmlFor:"new_password",children:"New password"}),(0,t.jsx)(n.Input,{id:"new_password",name:"new_password",type:"password",autoComplete:"new-password",required:!0,minLength:8})]}),(0,t.jsxs)("div",{className:"grid gap-space-xs",children:[(0,t.jsx)(i.Label,{htmlFor:"confirm_password",children:"Confirm new password"}),(0,t.jsx)(n.Input,{id:"confirm_password",name:"confirm_password",type:"password",autoComplete:"new-password",required:!0,minLength:8})]}),c.error?(0,t.jsxs)(l.Alert,{variant:"destructive",className:"text-body-sm",children:[(0,t.jsx)(l.AlertTitle,{children:"We could not update your password"}),(0,t.jsx)(l.AlertDescription,{children:c.error})]}):null,"success"===c.status&&c.message?(0,t.jsx)(l.Alert,{className:"border-secondary bg-secondary-container text-on-secondary-container",children:(0,t.jsx)(l.AlertDescription,{children:c.message})}):null,(0,t.jsx)(d,{})]})]})}function d(){let{pending:e}=(0,s.useFormStatus)();return(0,t.jsx)(a.Button,{type:"submit",disabled:e,className:"w-full justify-center sm:w-auto",children:e?"Updating...":"Update password"})}e.s(["ProfilePasswordForm",()=>o])}]);