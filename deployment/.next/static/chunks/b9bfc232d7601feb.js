(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,10204,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(73741),a=e.i(25913),l=e.i(75157);let n=(0,a.cva)("text-label-md font-medium leading-none text-on-surface peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),i=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)(s.Root,{ref:a,className:(0,l.cn)(n(),e),...r}));i.displayName=s.Root.displayName,e.s(["Label",()=>i])},73741,e=>{"use strict";var t=e.i(71645);e.i(74080);var r=e.i(20783),s=e.i(43476),a=Symbol.for("react.lazy"),l=t[" use ".trim().toString()];function n(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===a&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var i=Symbol("radix.slottable");function o(e){return t.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===i}var c=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{var i,c;let d,u,m,p=(c=i=`Primitive.${a}`,(d=t.forwardRef((e,s)=>{let{children:a,...i}=e;if(n(a)&&"function"==typeof l&&(a=l(a._payload)),t.isValidElement(a)){var o;let e,l,n=(o=a,(l=(e=Object.getOwnPropertyDescriptor(o.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.ref:(l=(e=Object.getOwnPropertyDescriptor(o,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.props.ref:o.props.ref||o.ref),c=function(e,t){let r={...t};for(let s in t){let a=e[s],l=t[s];/^on[A-Z]/.test(s)?a&&l?r[s]=(...e)=>{let t=l(...e);return a(...e),t}:a&&(r[s]=a):"style"===s?r[s]={...a,...l}:"className"===s&&(r[s]=[a,l].filter(Boolean).join(" "))}return{...e,...r}}(i,a.props);return a.type!==t.Fragment&&(c.ref=s?(0,r.composeRefs)(s,n):n),t.cloneElement(a,c)}return t.Children.count(a)>1?t.Children.only(null):null})).displayName=`${c}.SlotClone`,u=d,(m=t.forwardRef((e,r)=>{let{children:a,...i}=e;n(a)&&"function"==typeof l&&(a=l(a._payload));let c=t.Children.toArray(a),d=c.find(o);if(d){let e=d.props.children,a=c.map(r=>r!==d?r:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,s.jsx)(u,{...i,ref:r,children:t.isValidElement(e)?t.cloneElement(e,void 0,a):null})}return(0,s.jsx)(u,{...i,ref:r,children:a})})).displayName=`${i}.Slot`,m),x=t.forwardRef((e,t)=>{let{asChild:r,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(r?p:a,{...l,ref:t})});return x.displayName=`Primitive.${a}`,{...e,[a]:x}},{}),d=t.forwardRef((e,t)=>(0,s.jsx)(c.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));d.displayName="Label",e.s(["Label",()=>d,"Root",()=>d],73741)},99682,e=>{"use strict";var t=e.i(71645);function r(e){let r=t.useRef({value:e,previous:e});return t.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}e.s(["usePrevious",()=>r])},30297,e=>{"use strict";var t=e.i(43476),r=e.i(29592),s=e.i(47070);function a({children:e,message:a}){let{isClientPreview:l}=(0,s.useWorkspaceContext)();return l?(0,t.jsxs)("div",{className:"space-y-space-sm",children:[(0,t.jsxs)(r.Alert,{className:"border-primary/30 bg-primary/10 text-on-surface",children:[(0,t.jsx)(r.AlertTitle,{className:"text-label-sm font-semibold uppercase",children:"Client preview"}),(0,t.jsx)(r.AlertDescription,{className:"text-body-sm",children:a??"Actions are disabled while you are previewing the client portal. Exit preview to continue."})]}),e,(0,t.jsx)("p",{className:"text-label-sm text-muted-foreground",children:"Use the workspace bar in the header or the banner to exit preview and re-enable actions."})]}):(0,t.jsx)(t.Fragment,{children:e})}e.s(["ClientPreviewGuard",()=>a])},34761,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(87486),a=e.i(19455),l=e.i(93479),n=e.i(10204),i=e.i(67489),o=e.i(75157);function c({className:e,...r}){return(0,t.jsx)("div",{className:(0,o.cn)("animate-pulse rounded-md bg-muted",e),...r})}var d=e.i(74080);let u={success:!1};function m({documents:e,onRequestLink:o,onExtendAccess:m}){let[p,x]=(0,r.useState)(""),[h,f]=(0,r.useState)("all"),[y,j]=(0,d.useFormState)(o,u),[v,b]=(0,d.useFormState)(m,u),g=(0,r.useMemo)(()=>{let t=new Set;return e.forEach(e=>{e.category&&t.add(e.category)}),Array.from(t)},[e]),w=(0,r.useMemo)(()=>e.filter(e=>{let t=e.name.toLowerCase().includes(p.toLowerCase()),r="all"===h||e.category===h;return t&&r}),[e,p,h]);return(0,t.jsxs)("div",{className:"space-y-space-md",children:[(0,t.jsxs)("div",{className:"grid gap-space-sm sm:grid-cols-[1fr,200px]",children:[(0,t.jsx)(n.Label,{className:"sr-only",htmlFor:"doc-search",children:"Search documents"}),(0,t.jsx)(l.Input,{id:"doc-search",placeholder:"Search by title",value:p,onChange:e=>x(e.target.value)}),(0,t.jsxs)(i.Select,{value:h,onValueChange:f,children:[(0,t.jsx)(i.SelectTrigger,{"aria-label":"Filter by category",children:(0,t.jsx)(i.SelectValue,{placeholder:"All categories"})}),(0,t.jsxs)(i.SelectContent,{children:[(0,t.jsx)(i.SelectItem,{value:"all",children:"All categories"}),g.map(e=>(0,t.jsx)(i.SelectItem,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]})]})]}),null===e?(0,t.jsxs)("div",{className:"space-y-space-sm",children:[(0,t.jsx)(c,{className:"h-20 rounded-2xl"}),(0,t.jsx)(c,{className:"h-20 rounded-2xl"})]}):0===w.length?(0,t.jsxs)("div",{className:"rounded-2xl border border-dashed border-outline/20 bg-surface-container-high p-space-md text-body-sm text-muted-foreground",children:[(0,t.jsx)("p",{className:"font-medium text-on-surface",children:"No documents yet"}),(0,t.jsx)("p",{className:"mt-space-2xs",children:"Ask your outreach worker to share files here. You can also request a link below."}),(0,t.jsx)("p",{className:"mt-space-2xs text-label-sm",children:"When you request a link we’ll refresh it within one business day and log it in your audit trail."})]}):(0,t.jsx)("div",{className:"grid gap-space-md md:grid-cols-2",children:w.map(e=>(0,t.jsxs)("article",{className:"flex h-full flex-col justify-between rounded-2xl border border-outline/12 bg-surface-container-high p-space-md shadow-level-1",children:[(0,t.jsxs)("div",{className:"space-y-space-xs",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsx)("h2",{className:"text-title-md font-medium text-on-surface",children:e.name}),e.category?(0,t.jsx)(s.Badge,{variant:"secondary",children:e.category}):null]}),(0,t.jsx)("p",{className:"text-body-sm text-muted-foreground",children:e.lastModified?`Updated ${new Date(e.lastModified).toLocaleDateString()}`:"Updated recently"}),e.expiresAt?(0,t.jsxs)("p",{className:"text-label-sm text-primary",children:["Expires ",new Date(e.expiresAt).toLocaleDateString()]}):(0,t.jsx)("p",{className:"text-label-sm text-muted-foreground",children:"Link expires after 30 minutes once opened."}),(0,t.jsxs)("p",{className:"text-label-sm text-muted-foreground",children:["Shared by ",e.sharedBy??"team",e.lastViewedAt?` • Viewed ${new Date(e.lastViewedAt).toLocaleDateString()}`:""]})]}),(0,t.jsxs)("div",{className:"mt-space-md flex flex-wrap gap-space-sm",children:[e.signedUrl?(0,t.jsx)(a.Button,{asChild:!0,className:"flex-1 min-w-[140px]",children:(0,t.jsx)("a",{href:e.signedUrl,children:"Download"})}):(0,t.jsx)(a.Button,{variant:"outline",disabled:!0,className:"flex-1 min-w-[140px]",children:"Download unavailable"}),(0,t.jsxs)("form",{action:j,className:"flex-1 min-w-[140px]",children:[(0,t.jsx)("input",{type:"hidden",name:"path",value:e.path}),(0,t.jsx)("input",{type:"hidden",name:"reason",value:"Client requested new link"}),(0,t.jsx)(a.Button,{type:"submit",variant:"outline",size:"sm",className:"w-full",children:"Request new link"})]}),(0,t.jsxs)("form",{action:b,className:"flex min-w-[140px] flex-1",children:[(0,t.jsx)("input",{type:"hidden",name:"path",value:e.path}),(0,t.jsx)("input",{type:"hidden",name:"reason",value:"Client requested longer access"}),(0,t.jsx)(a.Button,{type:"submit",variant:"ghost",size:"sm",className:"w-full",children:"Extend access"})]})]}),y?.error?(0,t.jsx)("p",{className:"mt-space-2xs text-label-sm text-destructive",children:y.error}):null,v?.error?(0,t.jsx)("p",{className:"mt-space-2xs text-label-sm text-destructive",children:v.error}):null]},e.path))})]})}e.s(["DocumentsList",()=>m],34761)}]);