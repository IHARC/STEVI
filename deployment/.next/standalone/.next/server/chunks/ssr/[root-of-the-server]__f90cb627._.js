module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},50645,a=>{a.n(a.i(27572))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},46592,28215,a=>{"use strict";var b=a.i(4985);function c(a){if(!a)return a;let b=a.replace(/\/\([^/]+\)/g,"")||"/";return b.startsWith("/")?b:`/${b}`}function d(a,b="/"){if(!a)return{pathname:b,path:b};let e=(a,d)=>{let e=c(a||b),f=`${e}${d}`||b;return{pathname:e||b,path:f}};try{let c=a.startsWith("http://")||a.startsWith("https://")?new URL(a):new URL(a,"http://localhost"),d=c.pathname||b,f=c.search||"";return e(d,f)}catch{if(a.startsWith("/")){let[b,...c]=a.split("?");return e(b||"/",c.length?`?${c.join("?")}`:"")}return{pathname:b,path:b}}}a.s(["normalizePathFromHeader",()=>d,"stripRouteGroups",()=>c],28215);let e=["admin","org","staff","client"];function f(a){let c=(0,b.getWorkspaceNavBlueprint)(a);if(c?.defaultRoute)return c.defaultRoute;switch(a){case"admin":return"/admin";case"org":return"/org";case"staff":return"/staff";default:return"/home"}}function g(a){if(!a)return[m()];let b=[m({roleLabel:n(a,"client"),statusLabel:o(a),statusTone:p(a)})];return a.canAccessAdminWorkspace&&b.push({id:"admin",label:"Admin workspace",href:f("admin"),description:"Team tooling for moderation, content, and operations.",roleLabel:n(a,"admin"),statusLabel:o(a),statusTone:p(a)}),a.canAccessOrgWorkspace&&b.push({id:"org",label:"Organization workspace",href:f("org"),description:"Org-scoped controls for members, invites, and settings.",roleLabel:n(a,"org"),statusLabel:o(a),statusTone:p(a)}),a.canAccessStaffWorkspace&&b.push({id:"staff",label:"Staff workspace",href:f("staff"),description:"IHARC staff and volunteer caseload + outreach tools.",roleLabel:n(a,"staff"),statusLabel:o(a),statusTone:p(a)}),b}function h(a){let b=g(a),c=e.find(a=>b.some(b=>b.id===a));if(c){let a=b.find(a=>a.id===c);if(a)return a}return m()}function i(a){return h(a).href}function j(a){let b=c(a);return b.startsWith("/admin")?"admin":b.startsWith("/org")?"org":b.startsWith("/staff")?"staff":"client"}function k(a,b){return"client"===b&&g(a).some(a=>"client"!==a.id)}function l(a,b,{isPreview:c}={}){if(!a)return[];let d=!!c;return"client"===b?[{id:"client-request-appointment",label:"Request appointment",href:"/appointments#request-form",description:"Share availability with outreach staff",icon:"calendar",disabled:d},{id:"client-message-support",label:"Message the team",href:"/support#message-tray",description:"Ask for help or updates",icon:"chat",disabled:d},{id:"client-view-documents",label:"View secure documents",href:"/documents",description:"Check shared files and expiry",icon:"file",disabled:!1}]:"staff"===b?[{id:"staff-add-outreach",label:"Log outreach note",href:"/staff/outreach",description:"Capture quick outreach details",icon:"chat",disabled:d},{id:"staff-new-case-note",label:"Add case note",href:"/staff/cases",description:"Open cases and add updates",icon:"file",disabled:d}]:"org"===b?[{id:"org-new-invite",label:"Invite member",href:"/org/invites",description:"Send an organization invite",icon:"chat",disabled:d},{id:"org-add-profile",label:"Update org profile",href:"/org/settings",description:"Edit details and contacts",icon:"file",disabled:d}]:"admin"===b?[{id:"admin-invite-user",label:"Invite user",href:"/admin/profiles",description:"Send portal invite",icon:"chat",disabled:d},{id:"admin-new-notification",label:"Send notification",href:"/admin/notifications",description:"Queue SMS or email",icon:"file",disabled:d}]:[]}function m(a={}){return{id:"client",label:"Client portal",href:f("client"),description:"Client-facing navigation for neighbours using STEVI.",roleLabel:"Client",statusLabel:"Approved",statusTone:"neutral",...a}}function n(a,b){switch(b){case"admin":if(a.portalRoles.includes("portal_admin"))return"Portal admin";if(a.iharcRoles.includes("iharc_admin"))return"IHARC admin";if(a.portalRoles.includes("portal_org_admin"))return"Org admin";return"Admin";case"org":if(a.portalRoles.includes("portal_org_admin"))return"Org admin";if(a.portalRoles.includes("portal_org_rep"))return"Org rep";return"Organization";case"staff":if(a.iharcRoles.includes("iharc_supervisor"))return"IHARC supervisor";if(a.iharcRoles.includes("iharc_staff"))return"IHARC staff";if(a.iharcRoles.includes("iharc_volunteer"))return"Volunteer";return"Staff";default:return"Client"}}function o(a){let b=a.profile.affiliation_status;return"approved"===b?"Approved":"pending"===b?"Pending review":"revoked"===b?"Suspended":"Unknown"}function p(a){let b=a.profile.affiliation_status;return"approved"===b?"success":"pending"===b?"warning":"revoked"===b?"critical":"neutral"}a.s(["inferWorkspaceFromPath",()=>j,"isClientPreview",()=>k,"resolveDefaultWorkspace",()=>h,"resolveDefaultWorkspacePath",()=>i,"resolveWorkspaceOptions",()=>g,"resolveWorkspaceQuickActions",()=>l],46592)},790,(a,b,c)=>{let{createClientModuleProxy:d}=a.r(11857);a.n(d("[project]/node_modules/next/dist/client/app-dir/link.js <module evaluation>"))},84707,(a,b,c)=>{let{createClientModuleProxy:d}=a.r(11857);a.n(d("[project]/node_modules/next/dist/client/app-dir/link.js"))},97647,a=>{"use strict";a.i(790);var b=a.i(84707);a.n(b)},95936,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={default:function(){return i},useLinkStatus:function(){return h.useLinkStatus}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(64240),g=a.r(7997),h=f._(a.r(97647));function i(a){let b=a.legacyBehavior,c="string"==typeof a.children||"number"==typeof a.children||"string"==typeof a.children?.type,d=a.children?.type?.$$typeof===Symbol.for("react.client.reference");return!b||c||d||(a.children?.type?.$$typeof===Symbol.for("react.lazy")?console.error("Using a Lazy Component as a direct child of `<Link legacyBehavior>` from a Server Component is not supported. If you need legacyBehavior, wrap your Lazy Component in a Client Component that renders the Link's `<a>` tag."):console.error("Using a Server Component as a direct child of `<Link legacyBehavior>` is not supported. If you need legacyBehavior, wrap your Server Component in a Client Component that renders the Link's `<a>` tag.")),(0,g.jsx)(h.default,{...a})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},22359,a=>{"use strict";var b=a.i(7997),c=a.i(717),d=a.i(39138);let e={indicator:"var(--md-sys-spacing-xs)",control:"calc(var(--md-sys-spacing-sm) - (var(--md-sys-spacing-2xs)/2))",xs:"var(--md-sys-size-icon-xs)",sm:"var(--md-sys-size-icon-sm)",md:"var(--md-sys-size-icon-md)",lg:"var(--md-sys-size-icon-lg)"},f=c.forwardRef(({icon:a,className:c,size:f="md",strokeWidth:g=1.5,decorative:h=!0,style:i,...j},k)=>{let l=e[f]??e.md;return(0,b.jsx)(a,{ref:k,"aria-hidden":!!h||void 0,role:h?void 0:"img",focusable:"false",className:(0,d.cn)("shrink-0 text-inherit",c),style:{width:l,height:l,...i},strokeWidth:g,...j})});f.displayName="Icon",a.s(["Icon",0,f])},1269,a=>{"use strict";var b=a.i(717);let c=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},d=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let f=(0,b.forwardRef)(({color:a="currentColor",size:c=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...e,width:c,height:c,stroke:a,strokeWidth:g?24*Number(f)/Number(c):f,className:d("lucide",h),...!i&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),g=(a,e)=>{let g=(0,b.forwardRef)(({className:g,...h},i)=>(0,b.createElement)(f,{ref:i,iconNode:e,className:d(`lucide-${c(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,g),...h}));return g.displayName=c(a),g};a.s(["default",()=>g],1269)},9307,a=>{"use strict";function b(a,c="/home"){if(!a)return c;let d=Array.isArray(a)?a[0]:a;return!d||!d.startsWith("/")||d.startsWith("//")?c:d}function c(a){if(!a)return null;let b=Array.isArray(a)?a[0]:a;return"google_auth_cancelled"===b||"google_auth_error"===b?b:null}a.s(["parseAuthErrorCode",()=>c,"resolveNextPath",()=>b])},37199,a=>{"use strict";var b=a.i(7997),c=a.i(39138);let d={"form-sm":"max-w-form-sm","form-md":"max-w-form-md","form-lg":"max-w-form-lg",xl:"max-w-page",page:"max-w-page"};function e({children:a,eyebrow:e,title:f,description:g,actions:h,maxWidth:i="form-lg",align:j="start",spacing:k="lg"}){let l="center"===j?"max-w-2xl":"max-w-3xl",m=!!(e||f||g||h);return(0,b.jsx)("div",{className:"page-shell",children:(0,b.jsxs)("div",{className:(0,c.cn)("mx-auto flex w-full flex-col","md"===k?"gap-space-lg":"gap-space-xl",d[i]),children:[m?(0,b.jsxs)("header",{className:(0,c.cn)("flex w-full flex-col gap-space-xs","center"===j?"items-center text-center":"items-start text-left"),children:[e?(0,b.jsx)("p",{className:"text-label-sm font-medium uppercase text-muted-foreground",children:e}):null,f?(0,b.jsx)("h1",{className:(0,c.cn)("text-headline-lg text-on-surface sm:text-display-sm",l),children:f}):null,g?"string"==typeof g?(0,b.jsx)("p",{className:(0,c.cn)("text-body-md text-muted-foreground sm:text-body-lg",l),children:g}):(0,b.jsx)("div",{className:(0,c.cn)("text-body-md text-muted-foreground sm:text-body-lg",l),children:g}):null,h?(0,b.jsx)("div",{className:"flex flex-wrap gap-space-sm pt-space-sm",children:h}):null]}):null,a]})})}a.s(["FormPageShell",()=>e])},75652,a=>{a.n(a.i(48579))},66239,a=>{"use strict";var b=a.i(7997),c=a.i(95936);a.i(70396);var d=a.i(73727),e=a.i(1269);let f=(0,e.default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),g=(0,e.default)("file-question-mark",[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]]),h=(0,e.default)("hand-heart",[["path",{d:"M11 14h2a2 2 0 0 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 16",key:"1v1a37"}],["path",{d:"m14.45 13.39 5.05-4.694C20.196 8 21 6.85 21 5.75a2.75 2.75 0 0 0-4.797-1.837.276.276 0 0 1-.406 0A2.75 2.75 0 0 0 11 5.75c0 1.2.802 2.248 1.5 2.946L16 11.95",key:"fhfbnt"}],["path",{d:"m2 15 6 6",key:"10dquu"}],["path",{d:"m7 20 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a1 1 0 0 0-2.75-2.91",key:"1x6kdw"}]]),i=(0,e.default)("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]),j=(0,e.default)("users-round",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]),k=(0,e.default)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var l=a.i(9307),m=a.i(9919),n=a.i(65108),o=a.i(46592),p=a.i(37199),q=a.i(22359);let r=[{title:"Get help (new to IHARC)",description:"Start a trauma-informed intake, share contact safety, and request your first appointment.",href:a=>t("/register/get-help",a),glyph:h},{title:"Access my services (already a client)",description:"Claim an existing record using your IHARC ID, email, or phone so you can manage appointments online.",href:a=>t("/register/access-services",a),glyph:i},{title:"Join as a community member",description:"Follow neighbourhood updates, raise concerns, and collaborate on local solutions.",href:a=>t("/register/community-member",a),glyph:j},{title:"I’m with a partner organization",description:"Request verified partner access so you can coordinate referrals and share case notes securely.",href:a=>t("/register/partner",a),glyph:k},{title:"Volunteer",description:"Apply to support IHARC outreach teams. Screening ensures neighbours’ privacy is respected.",href:a=>t("/register/volunteer",a),glyph:h},{title:"Report a concern or give feedback",description:"Let us know about safety issues, discrimination, or encampment support needs with or without an account.",href:a=>t("/register/report-concern",a),glyph:g}];async function s({searchParams:a}){let e=a?await a:void 0,g=e?.next,h=await (0,m.createSupabaseRSCClient)(),{data:{user:i}}=await h.auth.getUser(),j=i?await (0,n.loadPortalAccess)(h):null,k=(0,o.resolveDefaultWorkspacePath)(j),s=(0,l.resolveNextPath)(g,k);return i&&(0,d.redirect)(s),(0,b.jsx)(p.FormPageShell,{eyebrow:"IHARC portal",title:"What do you want to do today?",description:"Pick the option that best matches what you need right now. Every path keeps your information private and honours your contact safety preferences.",maxWidth:"xl",children:(0,b.jsx)("div",{className:"grid gap-space-md md:grid-cols-2",children:r.map(({title:a,description:d,href:e,glyph:g})=>(0,b.jsxs)(c.default,{href:e(s),className:"group flex h-full flex-col justify-between rounded-2xl border border-outline/40 bg-surface p-6 shadow-subtle transition-colors motion-duration-medium motion-ease-standard hover:border-primary hover:shadow-md focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary state-layer-color-primary hover:state-layer-hover focus-visible:state-layer-focus",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("span",{className:"inline-flex h-11 w-11 items-center justify-center rounded-full text-primary state-layer-color-primary state-layer-hover",children:(0,b.jsx)(q.Icon,{icon:g,size:"md","aria-hidden":!0})}),(0,b.jsx)("h2",{className:"text-title-lg font-semibold text-on-surface",children:a}),(0,b.jsx)("p",{className:"text-body-md text-muted-foreground",children:d})]}),(0,b.jsxs)("span",{className:"mt-6 inline-flex items-center text-body-md font-medium text-primary",children:["Continue",(0,b.jsx)(q.Icon,{icon:f,size:"sm",className:"ml-2 transition-transform motion-duration-short motion-ease-standard group-hover:translate-x-1","aria-hidden":!0})]})]},a))})})}function t(a,b){if(!b||"/"===b)return a;let c=a.includes("?")?"&":"?";return`${a}${c}next=${encodeURIComponent(b)}`}a.s(["default",()=>s,"dynamic",0,"force-dynamic","metadata",0,{title:"IHARC Portal registration",description:"Choose the path that matches what you need today — from new client intake to partner and volunteer onboarding."}],66239)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__f90cb627._.js.map