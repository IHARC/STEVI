module.exports=[37936,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"registerServerReference",{enumerable:!0,get:function(){return d.registerServerReference}});let d=a.r(11857)},16349,a=>{"use strict";var b=a.i(5246);a.i(42537);var c=a.i(5860),d=a.i(31507);async function e(){let{url:a,anonKey:e}=(0,d.getSupabaseEnv)(),f=await (0,b.cookies)();return(0,c.createServerClient)(a,e,{cookies:{getAll:()=>f.getAll(),setAll(a){a.forEach(({name:a,value:b,options:c})=>{try{f.set(a,b,{path:"/",sameSite:"lax",httpOnly:!0,secure:!0,...c})}catch(a){}})}}})}a.s(["createSupabaseServerClient",()=>e])},46592,28215,a=>{"use strict";var b=a.i(4985);function c(a){if(!a)return a;let b=a.replace(/\/\([^/]+\)/g,"")||"/";return b.startsWith("/")?b:`/${b}`}function d(a,b="/"){if(!a)return{pathname:b,path:b};let e=(a,d)=>{let e=c(a||b),f=`${e}${d}`||b;return{pathname:e||b,path:f}};try{let c=a.startsWith("http://")||a.startsWith("https://")?new URL(a):new URL(a,"http://localhost"),d=c.pathname||b,f=c.search||"";return e(d,f)}catch{if(a.startsWith("/")){let[b,...c]=a.split("?");return e(b||"/",c.length?`?${c.join("?")}`:"")}return{pathname:b,path:b}}}a.s(["normalizePathFromHeader",()=>d,"stripRouteGroups",()=>c],28215);let e=["admin","org","staff","client"];function f(a){let c=(0,b.getWorkspaceNavBlueprint)(a);if(c?.defaultRoute)return c.defaultRoute;switch(a){case"admin":return"/admin";case"org":return"/org";case"staff":return"/staff";default:return"/home"}}function g(a){if(!a)return[m()];let b=[m({roleLabel:n(a,"client"),statusLabel:o(a),statusTone:p(a)})];return a.canAccessAdminWorkspace&&b.push({id:"admin",label:"Admin workspace",href:f("admin"),description:"Team tooling for moderation, content, and operations.",roleLabel:n(a,"admin"),statusLabel:o(a),statusTone:p(a)}),a.canAccessOrgWorkspace&&b.push({id:"org",label:"Organization workspace",href:f("org"),description:"Org-scoped controls for members, invites, and settings.",roleLabel:n(a,"org"),statusLabel:o(a),statusTone:p(a)}),a.canAccessStaffWorkspace&&b.push({id:"staff",label:"Staff workspace",href:f("staff"),description:"IHARC staff and volunteer caseload + outreach tools.",roleLabel:n(a,"staff"),statusLabel:o(a),statusTone:p(a)}),b}function h(a){let b=g(a),c=e.find(a=>b.some(b=>b.id===a));if(c){let a=b.find(a=>a.id===c);if(a)return a}return m()}function i(a){return h(a).href}function j(a){let b=c(a);return b.startsWith("/admin")?"admin":b.startsWith("/org")?"org":b.startsWith("/staff")?"staff":"client"}function k(a,b){return"client"===b&&g(a).some(a=>"client"!==a.id)}function l(a,b,{isPreview:c}={}){if(!a)return[];let d=!!c;return"client"===b?[{id:"client-request-appointment",label:"Request appointment",href:"/appointments#request-form",description:"Share availability with outreach staff",icon:"calendar",disabled:d},{id:"client-message-support",label:"Message the team",href:"/support#message-tray",description:"Ask for help or updates",icon:"chat",disabled:d},{id:"client-view-documents",label:"View secure documents",href:"/documents",description:"Check shared files and expiry",icon:"file",disabled:!1}]:"staff"===b?[{id:"staff-add-outreach",label:"Log outreach note",href:"/staff/outreach",description:"Capture quick outreach details",icon:"chat",disabled:d},{id:"staff-new-case-note",label:"Add case note",href:"/staff/cases",description:"Open cases and add updates",icon:"file",disabled:d}]:"org"===b?[{id:"org-new-invite",label:"Invite member",href:"/org/invites",description:"Send an organization invite",icon:"chat",disabled:d},{id:"org-add-profile",label:"Update org profile",href:"/org/settings",description:"Edit details and contacts",icon:"file",disabled:d}]:"admin"===b?[{id:"admin-invite-user",label:"Invite user",href:"/admin/profiles",description:"Send portal invite",icon:"chat",disabled:d},{id:"admin-new-notification",label:"Send notification",href:"/admin/notifications",description:"Queue SMS or email",icon:"file",disabled:d}]:[]}function m(a={}){return{id:"client",label:"Client portal",href:f("client"),description:"Client-facing navigation for neighbours using STEVI.",roleLabel:"Client",statusLabel:"Approved",statusTone:"neutral",...a}}function n(a,b){switch(b){case"admin":if(a.portalRoles.includes("portal_admin"))return"Portal admin";if(a.iharcRoles.includes("iharc_admin"))return"IHARC admin";if(a.portalRoles.includes("portal_org_admin"))return"Org admin";return"Admin";case"org":if(a.portalRoles.includes("portal_org_admin"))return"Org admin";if(a.portalRoles.includes("portal_org_rep"))return"Org rep";return"Organization";case"staff":if(a.iharcRoles.includes("iharc_supervisor"))return"IHARC supervisor";if(a.iharcRoles.includes("iharc_staff"))return"IHARC staff";if(a.iharcRoles.includes("iharc_volunteer"))return"Volunteer";return"Staff";default:return"Client"}}function o(a){let b=a.profile.affiliation_status;return"approved"===b?"Approved":"pending"===b?"Pending review":"revoked"===b?"Suspended":"Unknown"}function p(a){let b=a.profile.affiliation_status;return"approved"===b?"success":"pending"===b?"warning":"revoked"===b?"critical":"neutral"}a.s(["inferWorkspaceFromPath",()=>j,"isClientPreview",()=>k,"resolveDefaultWorkspace",()=>h,"resolveDefaultWorkspacePath",()=>i,"resolveWorkspaceOptions",()=>g,"resolveWorkspaceQuickActions",()=>l],46592)},35330,a=>{"use strict";var b=a.i(7997),c=a.i(717),d=a.i(39138);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-[var(--md-sys-shape-corner-medium)] border border-outline/12 bg-surface-container-low text-body-md text-on-surface shadow-level-1",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col gap-space-sm p-space-lg pb-space-sm text-on-surface",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("text-title-lg font-medium leading-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-body-sm text-on-surface-variant",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-space-lg pt-0 text-body-md text-on-surface",a),...c}));i.displayName="CardContent",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center gap-space-sm p-space-lg pt-0",a),...c})).displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardHeader",()=>f,"CardTitle",()=>g])},6687,a=>{"use strict";function b(a){if("string"!=typeof a)return;let b=a.trim();if(!b)return;let c=b.startsWith("+"),d=b.replace(/\D+/g,"");if(d){if(c)return`+${d}`;if(10===d.length)return`+1${d}`;if(d.length>10)return`+${d}`}}function c(a){let c=b(a);if(!c)return"";let d=c.slice(-4),e=c.slice(0,Math.max(2,c.length-4)).replace(/\d/g,"*");return`${e}${d}`}a.s(["maskPhoneNumber",()=>c,"normalizePhoneNumber",()=>b])},9307,a=>{"use strict";function b(a,c="/home"){if(!a)return c;let d=Array.isArray(a)?a[0]:a;return!d||!d.startsWith("/")||d.startsWith("//")?c:d}function c(a){if(!a)return null;let b=Array.isArray(a)?a[0]:a;return"google_auth_cancelled"===b||"google_auth_error"===b?b:null}a.s(["parseAuthErrorCode",()=>c,"resolveNextPath",()=>b])},22542,a=>{"use strict";var b=a.i(16594);a.s([],27611),a.i(27611),a.s(["605a42ab90a778bb4d368bec95cc683f632bc4c241",()=>b.$$RSC_SERVER_ACTION_0],22542)}];

//# sourceMappingURL=_205fadfa._.js.map