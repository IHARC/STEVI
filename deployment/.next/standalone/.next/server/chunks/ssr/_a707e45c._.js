module.exports=[54172,a=>{"use strict";var b=a.i(11857);let c=(0,b.registerClientReference)(function(){throw Error("Attempted to call Checkbox() from the server but Checkbox is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@radix-ui/react-checkbox/dist/index.mjs <module evaluation>","Checkbox"),d=(0,b.registerClientReference)(function(){throw Error("Attempted to call CheckboxIndicator() from the server but CheckboxIndicator is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@radix-ui/react-checkbox/dist/index.mjs <module evaluation>","CheckboxIndicator"),e=(0,b.registerClientReference)(function(){throw Error("Attempted to call Indicator() from the server but Indicator is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@radix-ui/react-checkbox/dist/index.mjs <module evaluation>","Indicator"),f=(0,b.registerClientReference)(function(){throw Error("Attempted to call Root() from the server but Root is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@radix-ui/react-checkbox/dist/index.mjs <module evaluation>","Root"),g=(0,b.registerClientReference)(function(){throw Error("Attempted to call createCheckboxScope() from the server but createCheckboxScope is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@radix-ui/react-checkbox/dist/index.mjs <module evaluation>","createCheckboxScope"),h=(0,b.registerClientReference)(function(){throw Error("Attempted to call unstable_BubbleInput() from the server but unstable_BubbleInput is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@radix-ui/react-checkbox/dist/index.mjs <module evaluation>","unstable_BubbleInput"),i=(0,b.registerClientReference)(function(){throw Error("Attempted to call unstable_CheckboxBubbleInput() from the server but unstable_CheckboxBubbleInput is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@radix-ui/react-checkbox/dist/index.mjs <module evaluation>","unstable_CheckboxBubbleInput"),j=(0,b.registerClientReference)(function(){throw Error("Attempted to call unstable_CheckboxProvider() from the server but unstable_CheckboxProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@radix-ui/react-checkbox/dist/index.mjs <module evaluation>","unstable_CheckboxProvider"),k=(0,b.registerClientReference)(function(){throw Error("Attempted to call unstable_CheckboxTrigger() from the server but unstable_CheckboxTrigger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@radix-ui/react-checkbox/dist/index.mjs <module evaluation>","unstable_CheckboxTrigger"),l=(0,b.registerClientReference)(function(){throw Error("Attempted to call unstable_Provider() from the server but unstable_Provider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@radix-ui/react-checkbox/dist/index.mjs <module evaluation>","unstable_Provider"),m=(0,b.registerClientReference)(function(){throw Error("Attempted to call unstable_Trigger() from the server but unstable_Trigger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@radix-ui/react-checkbox/dist/index.mjs <module evaluation>","unstable_Trigger");a.s(["Checkbox",0,c,"CheckboxIndicator",0,d,"Indicator",0,e,"Root",0,f,"createCheckboxScope",0,g,"unstable_BubbleInput",0,h,"unstable_CheckboxBubbleInput",0,i,"unstable_CheckboxProvider",0,j,"unstable_CheckboxTrigger",0,k,"unstable_Provider",0,l,"unstable_Trigger",0,m])},27954,a=>{"use strict";var b=a.i(11857);let c=(0,b.registerClientReference)(function(){throw Error("Attempted to call Checkbox() from the server but Checkbox is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@radix-ui/react-checkbox/dist/index.mjs","Checkbox"),d=(0,b.registerClientReference)(function(){throw Error("Attempted to call CheckboxIndicator() from the server but CheckboxIndicator is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@radix-ui/react-checkbox/dist/index.mjs","CheckboxIndicator"),e=(0,b.registerClientReference)(function(){throw Error("Attempted to call Indicator() from the server but Indicator is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@radix-ui/react-checkbox/dist/index.mjs","Indicator"),f=(0,b.registerClientReference)(function(){throw Error("Attempted to call Root() from the server but Root is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@radix-ui/react-checkbox/dist/index.mjs","Root"),g=(0,b.registerClientReference)(function(){throw Error("Attempted to call createCheckboxScope() from the server but createCheckboxScope is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@radix-ui/react-checkbox/dist/index.mjs","createCheckboxScope"),h=(0,b.registerClientReference)(function(){throw Error("Attempted to call unstable_BubbleInput() from the server but unstable_BubbleInput is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@radix-ui/react-checkbox/dist/index.mjs","unstable_BubbleInput"),i=(0,b.registerClientReference)(function(){throw Error("Attempted to call unstable_CheckboxBubbleInput() from the server but unstable_CheckboxBubbleInput is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@radix-ui/react-checkbox/dist/index.mjs","unstable_CheckboxBubbleInput"),j=(0,b.registerClientReference)(function(){throw Error("Attempted to call unstable_CheckboxProvider() from the server but unstable_CheckboxProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@radix-ui/react-checkbox/dist/index.mjs","unstable_CheckboxProvider"),k=(0,b.registerClientReference)(function(){throw Error("Attempted to call unstable_CheckboxTrigger() from the server but unstable_CheckboxTrigger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@radix-ui/react-checkbox/dist/index.mjs","unstable_CheckboxTrigger"),l=(0,b.registerClientReference)(function(){throw Error("Attempted to call unstable_Provider() from the server but unstable_Provider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@radix-ui/react-checkbox/dist/index.mjs","unstable_Provider"),m=(0,b.registerClientReference)(function(){throw Error("Attempted to call unstable_Trigger() from the server but unstable_Trigger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@radix-ui/react-checkbox/dist/index.mjs","unstable_Trigger");a.s(["Checkbox",0,c,"CheckboxIndicator",0,d,"Indicator",0,e,"Root",0,f,"createCheckboxScope",0,g,"unstable_BubbleInput",0,h,"unstable_CheckboxBubbleInput",0,i,"unstable_CheckboxProvider",0,j,"unstable_CheckboxTrigger",0,k,"unstable_Provider",0,l,"unstable_Trigger",0,m])},87627,a=>{"use strict";a.i(54172);var b=a.i(27954);a.n(b)},65251,a=>{"use strict";var b=a.i(7997),c=a.i(717),d=a.i(87627),e=a.i(30215),f=a.i(39138),g=a.i(22359);let h=c.forwardRef(({className:a,...c},h)=>(0,b.jsx)(d.Root,{ref:h,className:(0,f.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary transition-colors motion-duration-short motion-ease-standard ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...c,children:(0,b.jsx)(d.Indicator,{className:(0,f.cn)("flex items-center justify-center text-current"),children:(0,b.jsx)(g.Icon,{icon:e.Check,size:"sm",decorative:!1,"aria-label":"Checked"})})}));h.displayName=d.Root.displayName,a.s(["Checkbox",()=>h])},35573,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call ResourceAutosaveClient() from the server but ResourceAutosaveClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/app/(portal)/admin/resources/resource-autosave-client.tsx <module evaluation>","ResourceAutosaveClient");a.s(["ResourceAutosaveClient",0,b])},34361,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call ResourceAutosaveClient() from the server but ResourceAutosaveClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/app/(portal)/admin/resources/resource-autosave-client.tsx","ResourceAutosaveClient");a.s(["ResourceAutosaveClient",0,b])},13752,a=>{"use strict";a.i(35573);var b=a.i(34361);a.n(b)},16945,a=>{"use strict";var b=a.i(7997),c=a.i(95936),d=a.i(38904),e=a.i(55583),f=a.i(43562),g=a.i(70444),h=a.i(58774),i=a.i(65251),j=a.i(27016),k=a.i(13752),l=a.i(10508),m=a.i(90457);function n({mode:a,action:n,onDeleteAction:o,resource:p,kindOptions:q}){let r="edit"===a&&p,s=p?(0,m.getResourceEmbedDefaults)(p):{type:"none",url:"",provider:"youtube",label:"",html:""},t=p?(0,m.attachmentsToTextarea)(p.attachments):"",u=p?p.tags.join(", "):"",v=p?.bodyHtml??"",w=p?.summary??"",x=p?.location??"",y=p?.isPublished??!0,z=p?.embedPlacement??"above",A=p?.kind??q[0]?.value??"";return(0,b.jsxs)("div",{className:"space-y-space-lg",children:[(0,b.jsx)("div",{className:"rounded-3xl border border-outline/20 bg-surface-container p-space-md text-body-sm text-on-surface/80",children:(0,b.jsx)("p",{children:"Speak in plain, strengths-based language. Highlight community collaboration, note Good Samaritan protections for overdose response, and repeat that neighbours should call 911 during emergencies."})}),(0,b.jsxs)("form",{action:n,className:"space-y-space-lg",children:[r?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("input",{type:"hidden",name:"resource_id",value:p.id}),(0,b.jsx)("input",{type:"hidden",name:"current_slug",value:p.slug})]}):null,(0,b.jsxs)("fieldset",{className:"grid gap-space-md md:grid-cols-2 lg:grid-cols-3",children:[(0,b.jsxs)("div",{className:"grid gap-space-xs",children:[(0,b.jsx)(f.Label,{htmlFor:"resource_title",children:"Title"}),(0,b.jsx)(e.Input,{id:"resource_title",name:"title",required:!0,maxLength:160,defaultValue:p?.title??"",placeholder:"e.g. Coordinated Emergency Shelter Update"})]}),(0,b.jsxs)("div",{className:"grid gap-space-xs",children:[(0,b.jsx)(f.Label,{htmlFor:"resource_slug",children:"Slug"}),(0,b.jsx)(e.Input,{id:"resource_slug",name:"slug",maxLength:80,defaultValue:p?.slug??"",placeholder:"coordinated-shelter-update"}),(0,b.jsx)("p",{className:"text-label-sm text-on-surface/60",children:"Leave blank to auto-generate from the title."})]}),(0,b.jsxs)("div",{className:"grid gap-space-xs",children:[(0,b.jsx)(f.Label,{htmlFor:"resource_kind",children:"Resource type"}),(0,b.jsxs)(g.Select,{name:"kind",defaultValue:A,required:!0,children:[(0,b.jsx)(g.SelectTrigger,{id:"resource_kind",children:(0,b.jsx)(g.SelectValue,{placeholder:"Select type"})}),(0,b.jsx)(g.SelectContent,{children:q.map(a=>(0,b.jsx)(g.SelectItem,{value:a.value,children:a.label||(0,l.formatEnumLabel)(a.value)},a.value))})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(f.Label,{htmlFor:"resource_date",children:"Publication date"}),(0,b.jsx)(e.Input,{id:"resource_date",name:"date_published",type:"date",required:!0,defaultValue:p?.datePublished??""})]})]}),(0,b.jsxs)("fieldset",{className:"grid gap-space-md md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"grid gap-space-xs",children:[(0,b.jsx)(f.Label,{htmlFor:"resource_summary",children:"Summary"}),(0,b.jsx)(h.Textarea,{id:"resource_summary",name:"summary",rows:3,defaultValue:w,placeholder:"Summarize key actions, partners, and next steps."})]}),(0,b.jsxs)("div",{className:"grid gap-space-xs",children:[(0,b.jsx)(f.Label,{htmlFor:"resource_location",children:"Location (optional)"}),(0,b.jsx)(e.Input,{id:"resource_location",name:"location",defaultValue:x,placeholder:"Northumberland County Council Chambers"})]}),(0,b.jsxs)("div",{className:"grid gap-space-xs",children:[(0,b.jsx)(f.Label,{htmlFor:"resource_tags",children:"Tags (comma separated)"}),(0,b.jsx)(e.Input,{id:"resource_tags",name:"tags",defaultValue:u,placeholder:"housing, overdose response, outreach"}),(0,b.jsx)("p",{className:"text-label-sm text-on-surface/60",children:"Use lower-case keywords so filters stay consistent."})]}),(0,b.jsxs)("div",{className:"grid gap-space-xs",children:[(0,b.jsx)(f.Label,{htmlFor:"resource_attachments",children:"Attachments (optional)"}),(0,b.jsx)(h.Textarea,{id:"resource_attachments",name:"attachments",rows:3,defaultValue:t,placeholder:"Download the briefing (PDF) | https://example.ca/briefing.pdf"}),(0,b.jsx)("p",{className:"text-label-sm text-on-surface/60",children:"One per line using “Label | https://link”. Only trusted hosts should be listed."})]})]}),(0,b.jsxs)("fieldset",{className:"grid gap-space-md md:grid-cols-2 lg:grid-cols-3",children:[(0,b.jsxs)("div",{className:"grid gap-space-xs",children:[(0,b.jsx)(f.Label,{htmlFor:"resource_embed_type",children:"Embed"}),(0,b.jsxs)(g.Select,{name:"embed_type",defaultValue:s.type,children:[(0,b.jsx)(g.SelectTrigger,{id:"resource_embed_type",children:(0,b.jsx)(g.SelectValue,{placeholder:"Select embed"})}),(0,b.jsxs)(g.SelectContent,{children:[(0,b.jsx)(g.SelectItem,{value:"none",children:"No embed"}),(0,b.jsx)(g.SelectItem,{value:"google-doc",children:"Google Doc"}),(0,b.jsx)(g.SelectItem,{value:"pdf",children:"PDF viewer"}),(0,b.jsx)(g.SelectItem,{value:"video",children:"Video (YouTube or Vimeo)"}),(0,b.jsx)(g.SelectItem,{value:"external",children:"External link"}),(0,b.jsx)(g.SelectItem,{value:"html",children:"Custom HTML snippet"})]})]}),(0,b.jsx)("p",{className:"text-label-sm text-on-surface/60",children:"Only trusted hosts are allowed. Snippets are sanitized before publishing."})]}),(0,b.jsxs)("div",{className:"grid gap-space-xs",children:[(0,b.jsx)(f.Label,{htmlFor:"resource_embed_placement",children:"Embed placement"}),(0,b.jsxs)(g.Select,{name:"embed_placement",defaultValue:z,children:[(0,b.jsx)(g.SelectTrigger,{id:"resource_embed_placement",children:(0,b.jsx)(g.SelectValue,{placeholder:"Select placement"})}),(0,b.jsxs)(g.SelectContent,{children:[(0,b.jsx)(g.SelectItem,{value:"above",children:"Above body content"}),(0,b.jsx)(g.SelectItem,{value:"below",children:"Below body content"})]})]}),(0,b.jsx)("p",{className:"text-label-sm text-on-surface/60",children:"Choose how the embed anchors alongside the written summary."})]}),(0,b.jsxs)("div",{className:"grid gap-space-xs",children:[(0,b.jsx)(f.Label,{htmlFor:"resource_embed_url",children:"Embed URL"}),(0,b.jsx)(e.Input,{id:"resource_embed_url",name:"embed_url",defaultValue:s.url,placeholder:"https://docs.google.com/..."}),(0,b.jsx)("p",{className:"text-label-sm text-on-surface/60",children:"Required for Google Docs, PDFs, videos, and external links."})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(f.Label,{htmlFor:"resource_embed_provider",children:"Video provider"}),(0,b.jsxs)(g.Select,{name:"embed_provider",defaultValue:s.provider,children:[(0,b.jsx)(g.SelectTrigger,{id:"resource_embed_provider",children:(0,b.jsx)(g.SelectValue,{placeholder:"Select provider"})}),(0,b.jsxs)(g.SelectContent,{children:[(0,b.jsx)(g.SelectItem,{value:"youtube",children:"YouTube"}),(0,b.jsx)(g.SelectItem,{value:"vimeo",children:"Vimeo"})]})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(f.Label,{htmlFor:"resource_embed_label",children:"External link label"}),(0,b.jsx)(e.Input,{id:"resource_embed_label",name:"embed_label",defaultValue:s.label,placeholder:"Open resource"})]}),(0,b.jsxs)("div",{className:"grid gap-space-xs md:col-span-2 lg:col-span-3",children:[(0,b.jsx)(f.Label,{htmlFor:"resource_embed_html",children:"Custom HTML snippet"}),(0,b.jsx)(h.Textarea,{id:"resource_embed_html",name:"embed_html",rows:4,defaultValue:s.html,placeholder:"<iframe ...></iframe>"})]})]}),(0,b.jsx)(j.ResourceRichTextEditor,{name:"body_html",label:"Body content",defaultValue:v,description:"Use headings, bullet lists, and links so neighbours can scan actions quickly.",showPreview:!0}),r&&p?.id?(0,b.jsx)(k.ResourceAutosaveClient,{resourceId:p.id}):null,(0,b.jsxs)("div",{className:"flex items-center gap-space-xs",children:[(0,b.jsx)(i.Checkbox,{id:"resource_is_published",name:"is_published",defaultChecked:y}),(0,b.jsx)(f.Label,{htmlFor:"resource_is_published",className:"text-body-sm",children:"Visible on the public marketing page"})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-space-sm",children:[(0,b.jsx)(d.Button,{type:"submit",children:"create"===a?"Create resource":"Save changes"}),(0,b.jsx)(d.Button,{asChild:!0,variant:"ghost",children:(0,b.jsx)(c.default,{href:"/admin/resources",children:"Back to admin overview"})})]})]}),r&&p&&o?(0,b.jsxs)("form",{action:o,className:"rounded-3xl border border-error/20 bg-error-container p-space-md text-on-error-container",children:[(0,b.jsx)("input",{type:"hidden",name:"resource_id",value:p.id}),(0,b.jsx)("input",{type:"hidden",name:"resource_slug",value:p.slug}),(0,b.jsxs)("div",{className:"flex flex-col gap-space-sm sm:flex-row sm:items-center sm:justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-body-sm font-medium",children:"Danger zone"}),(0,b.jsx)("p",{className:"text-label-sm text-on-error-container/80",children:"Deleting removes this resource from marketing pages immediately."})]}),(0,b.jsx)(d.Button,{type:"submit",variant:"destructive",children:"Delete resource"})]})]}):null]})}a.s(["ResourceForm",()=>n])}];

//# sourceMappingURL=_a707e45c._.js.map