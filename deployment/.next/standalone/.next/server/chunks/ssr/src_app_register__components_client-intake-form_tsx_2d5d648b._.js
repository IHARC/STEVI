module.exports=[44090,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(35112),e=a.i(24348),f=a.i(99570),g=a.i(15055),h=a.i(66718),i=a.i(70430),j=a.i(48468),k=a.i(80701),l=a.i(29246);let m={status:"idle"};function n({action:a,initialState:d=m,nextPath:f}){let[g,n]=(0,c.useActionState)(a,d),[t,u]=(0,c.useState)("email"),v="success"===g.status,w="none"===t;(0,c.useEffect)(()=>{v&&window.scrollTo({top:0,behavior:"smooth"})},[v]);let x=(0,c.useMemo)(()=>{let a=new Date().getFullYear(),b=[];for(let c=a;c>=a-100;c-=1)b.push(c);return b},[]);return(0,b.jsxs)("form",{action:n,className:"space-y-space-xl rounded-2xl border border-outline/40 bg-surface p-space-lg shadow-subtle sm:p-space-xl",noValidate:!0,children:[(0,b.jsx)("input",{type:"hidden",name:"next",value:f}),(0,b.jsx)("input",{type:"hidden",name:"contact_choice",value:t}),(0,b.jsxs)("section",{className:"space-y-space-md",children:[(0,b.jsxs)("header",{children:[(0,b.jsx)("p",{className:"text-label-sm uppercase text-outline",children:"New client intake"}),(0,b.jsx)("h1",{className:"text-headline-sm font-semibold text-on-surface",children:"Tell us how to keep you safe"}),(0,b.jsx)("p",{className:"mt-space-xs text-body-md text-muted-foreground",children:"Every field is optional unless labelled required. Share only what feels right today — you can update details with your outreach team later."})]}),g.error?(0,b.jsxs)(e.Alert,{variant:"destructive",children:[(0,b.jsx)(e.AlertTitle,{children:"We couldn’t complete the intake"}),(0,b.jsx)(e.AlertDescription,{children:g.error})]}):null,v?(0,b.jsxs)(e.Alert,{className:"border-primary bg-primary-container text-on-primary-container",children:[(0,b.jsx)(e.AlertTitle,{children:"Intake received"}),(0,b.jsxs)(e.AlertDescription,{className:"space-y-space-sm",children:[(0,b.jsx)("p",{children:g.message??"Thanks for sharing your details. An outreach worker will follow up shortly."}),g.portalCode?(0,b.jsxs)("p",{className:"font-mono text-body-md",children:["Your IHARC code: ",(0,b.jsx)("strong",{children:g.portalCode}),". Keep this somewhere safe — you can use it later to claim your online account."]}):null]})]}):null]}),(0,b.jsxs)("section",{className:"space-y-[calc(var(--md-sys-spacing-xl)-var(--md-sys-spacing-sm))]",children:[(0,b.jsxs)("fieldset",{className:"space-y-space-sm rounded-xl border border-outline/30 p-space-md",children:[(0,b.jsx)("legend",{className:"text-title-sm font-semibold text-on-surface",children:"How should we stay in touch about your services?"}),(0,b.jsxs)(j.RadioGroup,{value:t,onValueChange:a=>u(a),className:"grid gap-space-sm md:grid-cols-2",children:[(0,b.jsx)(o,{value:"email",title:"Email",description:"We’ll send confirmations and updates to the inbox you share."}),(0,b.jsx)(o,{value:"phone",title:"Mobile phone",description:"We’ll use text messages and call if it’s safe."}),(0,b.jsx)(o,{value:"both",title:"Both email and phone",description:"Ideal if your phone changes often but you can access email at times."}),(0,b.jsx)(o,{value:"none",title:"I don’t have either right now",description:"We’ll generate an 8-digit code you can bring to outreach or the library to finish sign-up."})]})]}),("email"===t||"both"===t)&&(0,b.jsxs)("div",{className:"grid gap-space-xs",children:[(0,b.jsx)(i.Label,{htmlFor:"contact_email",children:"Email address"}),(0,b.jsx)(h.Input,{id:"contact_email",name:"contact_email",type:"email",autoComplete:"email",required:"email"===t||"both"===t,placeholder:"you@example.ca"})]}),("phone"===t||"both"===t)&&(0,b.jsxs)("div",{className:"grid gap-space-xs",children:[(0,b.jsx)(i.Label,{htmlFor:"contact_phone",children:"Mobile phone"}),(0,b.jsx)(h.Input,{id:"contact_phone",name:"contact_phone",type:"tel",autoComplete:"tel",inputMode:"tel",required:"phone"===t||"both"===t,placeholder:"+16475551234"}),(0,b.jsx)("p",{className:"text-label-sm text-muted-foreground",children:"Include your country code so we can text verification codes if needed."})]}),w?null:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"grid gap-space-xs",children:[(0,b.jsx)(i.Label,{htmlFor:"password",children:"Create a password"}),(0,b.jsx)(h.Input,{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,minLength:12,placeholder:"At least 12 characters"})]}),(0,b.jsxs)("div",{className:"grid gap-space-xs",children:[(0,b.jsx)(i.Label,{htmlFor:"password_confirm",children:"Confirm password"}),(0,b.jsx)(h.Input,{id:"password_confirm",name:"password_confirm",type:"password",autoComplete:"new-password",required:!0,minLength:12,placeholder:"Re-enter your password"})]})]}),(0,b.jsxs)("div",{className:"grid gap-space-xs",children:[(0,b.jsx)(i.Label,{htmlFor:"chosen_name",children:"What name should we use with you? *"}),(0,b.jsx)(h.Input,{id:"chosen_name",name:"chosen_name",required:!0,maxLength:120,placeholder:"Name you want IHARC to use"})]}),(0,b.jsxs)("div",{className:"grid gap-space-xs",children:[(0,b.jsx)(i.Label,{htmlFor:"legal_name",children:"Legal or government name (optional)"}),(0,b.jsx)(h.Input,{id:"legal_name",name:"legal_name",maxLength:160,placeholder:"Only if it helps with benefits or ID"})]}),(0,b.jsxs)("div",{className:"grid gap-space-xs",children:[(0,b.jsx)(i.Label,{htmlFor:"pronouns",children:"Pronouns (optional)"}),(0,b.jsx)(h.Input,{id:"pronouns",name:"pronouns",maxLength:80,placeholder:"She/her, they/them, he/him, etc."})]}),(0,b.jsxs)("fieldset",{className:"space-y-space-sm rounded-xl border border-outline/30 p-space-md",children:[(0,b.jsx)("legend",{className:"text-title-sm font-semibold text-on-surface",children:"Is it safe for us to…"}),(0,b.jsx)(p,{name:"safe_call",label:"Call this phone number"}),(0,b.jsx)(p,{name:"safe_text",label:"Send text messages"}),(0,b.jsx)(p,{name:"safe_voicemail",label:"Leave a voicemail if you miss our call"}),(0,b.jsxs)("div",{className:"grid gap-space-xs",children:[(0,b.jsx)(i.Label,{htmlFor:"contact_window",children:"Preferred contact window (optional)"}),(0,b.jsxs)(k.Select,{name:"contact_window",defaultValue:"anytime",children:[(0,b.jsx)(k.SelectTrigger,{id:"contact_window",children:(0,b.jsx)(k.SelectValue,{placeholder:"When should we reach out?"})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"anytime",children:"Anytime — reach out when you can"}),(0,b.jsx)(k.SelectItem,{value:"daytime",children:"Daytime (9 a.m. – 5 p.m.)"}),(0,b.jsx)(k.SelectItem,{value:"evening",children:"Evenings (5 p.m. – 9 p.m.)"}),(0,b.jsx)(k.SelectItem,{value:"weekends",children:"Weekends only"}),(0,b.jsx)(k.SelectItem,{value:"custom",children:"I’ll explain below"})]})]})]})]}),(0,b.jsxs)("fieldset",{className:"space-y-space-sm rounded-xl border border-outline/30 p-space-md",children:[(0,b.jsx)("legend",{className:"text-title-sm font-semibold text-on-surface",children:"Optional demographic details"}),(0,b.jsx)("p",{className:"text-body-sm text-muted-foreground",children:"These questions help IHARC report on equity outcomes. Share only what feels right — skipping them never impacts services."}),(0,b.jsxs)("div",{className:"grid gap-space-xs md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"grid gap-[calc(var(--md-sys-spacing-xs)-(var(--md-sys-spacing-2xs)/2))]",children:[(0,b.jsx)(i.Label,{htmlFor:"dob_month",children:"Birth month"}),(0,b.jsxs)(k.Select,{name:"dob_month",defaultValue:"",children:[(0,b.jsx)(k.SelectTrigger,{id:"dob_month",children:(0,b.jsx)(k.SelectValue,{placeholder:"Select month"})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"",children:"Prefer not to say"}),s.map(({value:a,label:c})=>(0,b.jsx)(k.SelectItem,{value:String(a),children:c},a))]})]})]}),(0,b.jsxs)("div",{className:"grid gap-[calc(var(--md-sys-spacing-xs)-(var(--md-sys-spacing-2xs)/2))]",children:[(0,b.jsx)(i.Label,{htmlFor:"dob_year",children:"Birth year"}),(0,b.jsxs)(k.Select,{name:"dob_year",defaultValue:"",children:[(0,b.jsx)(k.SelectTrigger,{id:"dob_year",children:(0,b.jsx)(k.SelectValue,{placeholder:"Select year"})}),(0,b.jsxs)(k.SelectContent,{className:"max-h-64",children:[(0,b.jsx)(k.SelectItem,{value:"",children:"Prefer not to say"}),x.map(a=>(0,b.jsx)(k.SelectItem,{value:String(a),children:a},a))]})]})]})]}),(0,b.jsxs)("div",{className:"grid gap-space-xs",children:[(0,b.jsx)(i.Label,{htmlFor:"postal_code",children:"Postal code (if any)"}),(0,b.jsx)(h.Input,{id:"postal_code",name:"postal_code",maxLength:7,placeholder:"A1A 1A1",autoComplete:"postal-code"})]}),(0,b.jsxs)("div",{className:"grid gap-space-xs",children:[(0,b.jsx)(i.Label,{htmlFor:"indigenous_identity",children:"Indigenous identity (optional)"}),(0,b.jsx)(h.Input,{id:"indigenous_identity",name:"indigenous_identity",maxLength:120,placeholder:"Status / Non-status First Nation, Inuit, Métis, etc."})]}),(0,b.jsxs)("div",{className:"grid gap-space-xs",children:[(0,b.jsx)(i.Label,{htmlFor:"disability",children:"Disability or accessibility notes (optional)"}),(0,b.jsx)(l.Textarea,{id:"disability",name:"disability",rows:3,placeholder:"Share anything that helps us plan accommodations."})]}),(0,b.jsxs)("div",{className:"grid gap-space-xs",children:[(0,b.jsx)(i.Label,{htmlFor:"gender_identity",children:"Gender identity (optional)"}),(0,b.jsx)(h.Input,{id:"gender_identity",name:"gender_identity",maxLength:120,placeholder:"Self-described identity"})]})]}),(0,b.jsxs)("fieldset",{className:"space-y-space-sm rounded-xl border border-outline/30 p-space-md",children:[(0,b.jsx)("legend",{className:"text-title-sm font-semibold text-on-surface",children:"Consent"}),(0,b.jsx)(q,{id:"consent_privacy",name:"consent_privacy",label:"I understand why IHARC collects my information and how it will be used.",required:!0}),(0,b.jsx)(q,{id:"consent_contact",name:"consent_contact",label:"I consent to IHARC contacting me about my case.",required:!w}),(0,b.jsx)(q,{id:"consent_terms",name:"consent_terms",label:"I agree to the portal Terms and Privacy Policy.",required:!0}),(0,b.jsxs)("div",{className:"grid gap-space-xs",children:[(0,b.jsx)(i.Label,{htmlFor:"additional_context",children:"Anything else we should know?"}),(0,b.jsx)(l.Textarea,{id:"additional_context",name:"additional_context",rows:3,placeholder:"Safety notes, accessibility needs, or anything urgent you want to flag."})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between gap-space-md",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-body-sm text-muted-foreground",children:"We’ll email or text a confirmation as soon as possible. Staff can also look you up with your name and code."}),g.warnings?.length?(0,b.jsx)("ul",{className:"mt-space-xs space-y-space-2xs text-body-sm text-outline",children:g.warnings.map(a=>(0,b.jsxs)("li",{children:["• ",a]},a))}):null]}),(0,b.jsx)(r,{isSuccess:v})]})]})}function o({value:a,title:c,description:d}){return(0,b.jsxs)("label",{htmlFor:`contact_choice_${a}`,className:"flex cursor-pointer items-start gap-space-sm rounded-xl border border-outline/40 bg-surface-container p-space-sm text-left text-title-sm font-medium text-on-surface shadow-subtle transition state-layer-color-primary hover:border-primary hover:state-layer-hover focus-within:outline-none focus-within:ring-2 focus-within:ring-primary focus-within:state-layer-focus",children:[(0,b.jsx)(j.RadioGroupItem,{id:`contact_choice_${a}`,value:a,className:"mt-space-2xs"}),(0,b.jsxs)("span",{className:"text-title-sm font-medium",children:[c,(0,b.jsx)("span",{className:"mt-space-2xs block text-body-sm font-normal text-muted-foreground",children:d})]})]})}function p({name:a,label:c}){return(0,b.jsxs)("label",{className:"flex items-start gap-space-sm text-body-md text-on-surface",children:[(0,b.jsx)(g.Checkbox,{id:a,name:a,className:"mt-space-2xs"}),(0,b.jsx)("span",{children:c})]})}function q({id:a,name:c,label:d,required:e=!1}){return(0,b.jsxs)("label",{htmlFor:a,className:"flex items-start gap-space-sm text-body-md text-on-surface",children:[(0,b.jsx)(g.Checkbox,{id:a,name:c,required:e,className:"mt-space-2xs"}),(0,b.jsxs)("span",{children:[d," ",e?(0,b.jsx)("span",{className:"text-error",children:"*"}):null]})]})}function r({isSuccess:a}){let{pending:c}=(0,d.useFormStatus)();return(0,b.jsx)(f.Button,{type:"submit",disabled:c||a,className:"min-w-[160px] justify-center",children:c?"Submitting...":a?"Intake logged":"Submit intake"})}let s=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}];a.s(["CLIENT_INTAKE_INITIAL_STATE",0,m,"ClientIntakeForm",()=>n])}];

//# sourceMappingURL=src_app_register__components_client-intake-form_tsx_2d5d648b._.js.map