module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},50645,a=>{a.n(a.i(27572))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},46592,28215,a=>{"use strict";var b=a.i(4985);function c(a){if(!a)return a;let b=a.replace(/\/\([^/]+\)/g,"")||"/";return b.startsWith("/")?b:`/${b}`}function d(a,b="/"){if(!a)return{pathname:b,path:b};let e=(a,d)=>{let e=c(a||b),f=`${e}${d}`||b;return{pathname:e||b,path:f}};try{let c=a.startsWith("http://")||a.startsWith("https://")?new URL(a):new URL(a,"http://localhost"),d=c.pathname||b,f=c.search||"";return e(d,f)}catch{if(a.startsWith("/")){let[b,...c]=a.split("?");return e(b||"/",c.length?`?${c.join("?")}`:"")}return{pathname:b,path:b}}}a.s(["normalizePathFromHeader",()=>d,"stripRouteGroups",()=>c],28215);let e=["admin","org","staff","client"];function f(a){let c=(0,b.getWorkspaceNavBlueprint)(a);if(c?.defaultRoute)return c.defaultRoute;switch(a){case"admin":return"/admin";case"org":return"/org";case"staff":return"/staff";default:return"/home"}}function g(a){if(!a)return[m()];let b=[m({roleLabel:n(a,"client"),statusLabel:o(a),statusTone:p(a)})];return a.canAccessAdminWorkspace&&b.push({id:"admin",label:"Admin workspace",href:f("admin"),description:"Team tooling for moderation, content, and operations.",roleLabel:n(a,"admin"),statusLabel:o(a),statusTone:p(a)}),a.canAccessOrgWorkspace&&b.push({id:"org",label:"Organization workspace",href:f("org"),description:"Org-scoped controls for members, invites, and settings.",roleLabel:n(a,"org"),statusLabel:o(a),statusTone:p(a)}),a.canAccessStaffWorkspace&&b.push({id:"staff",label:"Staff workspace",href:f("staff"),description:"IHARC staff and volunteer caseload + outreach tools.",roleLabel:n(a,"staff"),statusLabel:o(a),statusTone:p(a)}),b}function h(a){let b=g(a),c=e.find(a=>b.some(b=>b.id===a));if(c){let a=b.find(a=>a.id===c);if(a)return a}return m()}function i(a){return h(a).href}function j(a){let b=c(a);return b.startsWith("/admin")?"admin":b.startsWith("/org")?"org":b.startsWith("/staff")?"staff":"client"}function k(a,b){return"client"===b&&g(a).some(a=>"client"!==a.id)}function l(a,b,{isPreview:c}={}){if(!a)return[];let d=!!c;return"client"===b?[{id:"client-request-appointment",label:"Request appointment",href:"/appointments#request-form",description:"Share availability with outreach staff",icon:"calendar",disabled:d},{id:"client-message-support",label:"Message the team",href:"/support#message-tray",description:"Ask for help or updates",icon:"chat",disabled:d},{id:"client-view-documents",label:"View secure documents",href:"/documents",description:"Check shared files and expiry",icon:"file",disabled:!1}]:"staff"===b?[{id:"staff-add-outreach",label:"Log outreach note",href:"/staff/outreach",description:"Capture quick outreach details",icon:"chat",disabled:d},{id:"staff-new-case-note",label:"Add case note",href:"/staff/cases",description:"Open cases and add updates",icon:"file",disabled:d}]:"org"===b?[{id:"org-new-invite",label:"Invite member",href:"/org/invites",description:"Send an organization invite",icon:"chat",disabled:d},{id:"org-add-profile",label:"Update org profile",href:"/org/settings",description:"Edit details and contacts",icon:"file",disabled:d}]:"admin"===b?[{id:"admin-invite-user",label:"Invite user",href:"/admin/profiles",description:"Send portal invite",icon:"chat",disabled:d},{id:"admin-new-notification",label:"Send notification",href:"/admin/notifications",description:"Queue SMS or email",icon:"file",disabled:d}]:[]}function m(a={}){return{id:"client",label:"Client portal",href:f("client"),description:"Client-facing navigation for neighbours using STEVI.",roleLabel:"Client",statusLabel:"Approved",statusTone:"neutral",...a}}function n(a,b){switch(b){case"admin":if(a.portalRoles.includes("portal_admin"))return"Portal admin";if(a.iharcRoles.includes("iharc_admin"))return"IHARC admin";if(a.portalRoles.includes("portal_org_admin"))return"Org admin";return"Admin";case"org":if(a.portalRoles.includes("portal_org_admin"))return"Org admin";if(a.portalRoles.includes("portal_org_rep"))return"Org rep";return"Organization";case"staff":if(a.iharcRoles.includes("iharc_supervisor"))return"IHARC supervisor";if(a.iharcRoles.includes("iharc_staff"))return"IHARC staff";if(a.iharcRoles.includes("iharc_volunteer"))return"Volunteer";return"Staff";default:return"Client"}}function o(a){let b=a.profile.affiliation_status;return"approved"===b?"Approved":"pending"===b?"Pending review":"revoked"===b?"Suspended":"Unknown"}function p(a){let b=a.profile.affiliation_status;return"approved"===b?"success":"pending"===b?"warning":"revoked"===b?"critical":"neutral"}a.s(["inferWorkspaceFromPath",()=>j,"isClientPreview",()=>k,"resolveDefaultWorkspace",()=>h,"resolveDefaultWorkspacePath",()=>i,"resolveWorkspaceOptions",()=>g,"resolveWorkspaceQuickActions",()=>l],46592)},60168,a=>{"use strict";a.i(70396);var b=a.i(73727),c=a.i(9919),d=a.i(65108),e=a.i(46592);async function f(){let a=await (0,c.createSupabaseRSCClient)(),{data:{user:f}}=await a.auth.getUser();f||(0,b.redirect)("/login");let g=await (0,d.loadPortalAccess)(a),h=(0,e.resolveDefaultWorkspacePath)(g);(0,b.redirect)(h)}a.s(["default",()=>f,"dynamic",0,"force-dynamic"])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__d0352b44._.js.map