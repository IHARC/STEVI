module.exports=[77994,a=>{"use strict";var b=a.i(72131);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}a.s(["usePrevious",()=>c])},91119,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-[var(--md-sys-shape-corner-medium)] border border-outline/12 bg-surface-container-low text-body-md text-on-surface shadow-level-1",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col gap-space-sm p-space-lg pb-space-sm text-on-surface",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("text-title-lg font-medium leading-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-body-sm text-on-surface-variant",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-space-lg pt-0 text-body-md text-on-surface",a),...c}));i.displayName="CardContent";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center gap-space-sm p-space-lg pt-0",a),...c}));j.displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardFooter",()=>j,"CardHeader",()=>f,"CardTitle",()=>g])},76323,a=>{"use strict";var b=a.i(87924),c=a.i(35112),d=a.i(99570),e=a.i(66718);function f({variant:a}){let{pending:e}=(0,c.useFormStatus)();return(0,b.jsx)(d.Button,{type:"submit",variant:a??"destructive",size:"sm",disabled:e,stateLayerTone:"destructive"===a?"destructive":void 0,children:e?"Cancelling…":"Cancel appointment"})}function g({action:a,appointmentId:c,variant:d}){return(0,b.jsxs)("form",{action:a,className:"flex w-full flex-col gap-space-xs sm:w-auto sm:flex-row sm:items-center",children:[(0,b.jsx)("input",{type:"hidden",name:"appointment_id",value:c}),(0,b.jsx)(e.Input,{name:"cancellation_reason",placeholder:"Optional reason",className:"sm:min-w-[200px]"}),(0,b.jsx)(f,{variant:d})]})}a.s(["CancelAppointmentForm",()=>g])},37341,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(66718),e=a.i(99570),f=a.i(91119),g=a.i(68114);function h({name:a,label:h,placeholder:i,scope:j,defaultValue:k,className:l,helperText:m,required:n}){let[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)([]),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(k??"");(0,c.useEffect)(()=>{let a=new AbortController;if(o.length<2)return r([]),()=>a.abort();let b=setTimeout(async()=>{t(!0);try{let b=await fetch(`/api/appointments/search-profiles?q=${encodeURIComponent(o)}&scope=${j}`,{signal:a.signal});if(!b.ok)return;let c=await b.json();r(c.items??[])}finally{t(!1)}},200);return()=>{clearTimeout(b),a.abort()}},[o,j]);let w=(0,c.useMemo)(()=>{let a=q.find(a=>a.id===u);return a?a.label:u||"Not selected"},[q,u]);return(0,b.jsxs)("div",{className:(0,g.cn)("space-y-space-2xs",l),children:[(0,b.jsx)("label",{className:"text-label-sm font-semibold text-on-surface",htmlFor:`${a}-search`,children:h}),(0,b.jsxs)("div",{className:"flex gap-space-xs",children:[(0,b.jsx)(d.Input,{id:`${a}-search`,placeholder:i??"Search by name",value:o,onChange:a=>p(a.target.value),autoComplete:"off"}),(0,b.jsx)(e.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>{p(""),r([])},children:"Clear"})]}),m?(0,b.jsx)("p",{className:"text-body-xs text-muted-foreground",children:m}):null,(0,b.jsx)("input",{type:"hidden",name:a,value:u,required:n}),(0,b.jsx)(f.Card,{className:"border-outline/30",children:(0,b.jsxs)(f.CardContent,{className:"space-y-space-2xs py-space-sm",children:[s?(0,b.jsx)("p",{className:"text-body-sm text-muted-foreground",children:"Searching…"}):null,s||0!==q.length?q.map(a=>(0,b.jsxs)("button",{type:"button",className:"flex w-full items-center justify-between rounded-md px-space-sm py-space-2xs text-left text-body-sm transition state-layer-color-primary hover:bg-surface-container-low",onClick:()=>v(a.id),children:[(0,b.jsx)("span",{className:"text-on-surface",children:a.label}),(0,b.jsx)("span",{className:"text-label-sm text-on-surface/60",children:a.id.slice(0,8)})]},a.id)):(0,b.jsx)("p",{className:"text-body-sm text-muted-foreground",children:"No matches."}),(0,b.jsxs)("p",{className:"text-body-xs text-muted-foreground",children:["Selected: ",w]})]})})]})}a.s(["ProfileSearch",()=>h])},1470,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(99570);let e=new Intl.DateTimeFormat("en-CA",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"});function f({slots:a,targetInputId:f,label:g}){let h=(0,c.useCallback)(a=>{let b=document.getElementById(f);b&&(b.value=a.slice(0,16),b.dispatchEvent(new Event("input",{bubbles:!0})))},[f]);return a.length?(0,b.jsxs)("div",{className:"space-y-space-2xs",children:[(0,b.jsx)("p",{className:"text-label-sm font-semibold text-on-surface",children:g??"Quick pick slots"}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-space-xs sm:grid-cols-3 lg:grid-cols-4",children:a.map(a=>(0,b.jsx)(d.Button,{type:"button",variant:"outline",size:"sm",className:"justify-start",onClick:()=>h(a),children:e.format(new Date(a))},a))})]}):null}a.s(["AvailabilityPicker",()=>f])}];

//# sourceMappingURL=_2f914408._.js.map