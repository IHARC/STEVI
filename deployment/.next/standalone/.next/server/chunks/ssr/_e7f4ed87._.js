module.exports=[70106,a=>{"use strict";var b=a.i(72131);let c=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},d=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let f=(0,b.forwardRef)(({color:a="currentColor",size:c=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...e,width:c,height:c,stroke:a,strokeWidth:g?24*Number(f)/Number(c):f,className:d("lucide",h),...!i&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),g=(a,e)=>{let g=(0,b.forwardRef)(({className:g,...h},i)=>(0,b.createElement)(f,{ref:i,iconNode:e,className:d(`lucide-${c(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,g),...h}));return g.displayName=c(a),g};a.s(["default",()=>g],70106)},81671,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e={indicator:"var(--md-sys-spacing-xs)",control:"calc(var(--md-sys-spacing-sm) - (var(--md-sys-spacing-2xs)/2))",xs:"var(--md-sys-size-icon-xs)",sm:"var(--md-sys-size-icon-sm)",md:"var(--md-sys-size-icon-md)",lg:"var(--md-sys-size-icon-lg)"},f=c.forwardRef(({icon:a,className:c,size:f="md",strokeWidth:g=1.5,decorative:h=!0,style:i,...j},k)=>{let l=e[f]??e.md;return(0,b.jsx)(a,{ref:k,"aria-hidden":!!h||void 0,role:h?void 0:"img",focusable:"false",className:(0,d.cn)("shrink-0 text-inherit",c),style:{width:l,height:l,...i},strokeWidth:g,...j})});f.displayName="Icon",a.s(["Icon",0,f])},77192,a=>{"use strict";var b=a.i(72131),c=a.i(70121),d=a.i(72752),e=a=>{var e;let g,h,{present:i,children:j}=a,k=function(a){var c,e;let[g,h]=b.useState(),i=b.useRef(null),j=b.useRef(a),k=b.useRef("none"),[l,m]=(c=a?"mounted":"unmounted",e={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},b.useReducer((a,b)=>e[a][b]??a,c));return b.useEffect(()=>{let a=f(i.current);k.current="mounted"===l?a:"none"},[l]),(0,d.useLayoutEffect)(()=>{let b=i.current,c=j.current;if(c!==a){let d=k.current,e=f(b);a?m("MOUNT"):"none"===e||b?.display==="none"?m("UNMOUNT"):c&&d!==e?m("ANIMATION_OUT"):m("UNMOUNT"),j.current=a}},[a,m]),(0,d.useLayoutEffect)(()=>{if(g){let a,b=g.ownerDocument.defaultView??window,c=c=>{let d=f(i.current).includes(CSS.escape(c.animationName));if(c.target===g&&d&&(m("ANIMATION_END"),!j.current)){let c=g.style.animationFillMode;g.style.animationFillMode="forwards",a=b.setTimeout(()=>{"forwards"===g.style.animationFillMode&&(g.style.animationFillMode=c)})}},d=a=>{a.target===g&&(k.current=f(i.current))};return g.addEventListener("animationstart",d),g.addEventListener("animationcancel",c),g.addEventListener("animationend",c),()=>{b.clearTimeout(a),g.removeEventListener("animationstart",d),g.removeEventListener("animationcancel",c),g.removeEventListener("animationend",c)}}m("ANIMATION_END")},[g,m]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(a=>{i.current=a?getComputedStyle(a):null,h(a)},[])}}(i),l="function"==typeof j?j({present:k.isPresent}):b.Children.only(j),m=(0,c.useComposedRefs)(k.ref,(e=l,(h=(g=Object.getOwnPropertyDescriptor(e.props,"ref")?.get)&&"isReactWarning"in g&&g.isReactWarning)?e.ref:(h=(g=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in g&&g.isReactWarning)?e.props.ref:e.props.ref||e.ref));return"function"==typeof j||k.isPresent?b.cloneElement(l,{ref:m}):null};function f(a){return a?.animationName||"none"}e.displayName="Presence",a.s(["Presence",()=>e])},24050,a=>{"use strict";var b=a.i(72131),c=a.i(7554),d=a.i(37738),e=a.i(70121),f=a.i(50104),g=a.i(92843),h=a.i(30553),i=a.i(46872),j=a.i(25152),k=a.i(7827),l=a.i(87924),m="rovingFocusGroup.onEntryFocus",n={bubbles:!1,cancelable:!0},o="RovingFocusGroup",[p,q,r]=(0,d.createCollection)(o),[s,t]=(0,f.createContextScope)(o,[r]),[u,v]=s(o),w=b.forwardRef((a,b)=>(0,l.jsx)(p.Provider,{scope:a.__scopeRovingFocusGroup,children:(0,l.jsx)(p.Slot,{scope:a.__scopeRovingFocusGroup,children:(0,l.jsx)(x,{...a,ref:b})})}));w.displayName=o;var x=b.forwardRef((a,d)=>{let{__scopeRovingFocusGroup:f,orientation:g,loop:p=!1,dir:r,currentTabStopId:s,defaultCurrentTabStopId:t,onCurrentTabStopIdChange:v,onEntryFocus:w,preventScrollOnEntryFocus:x=!1,...y}=a,z=b.useRef(null),A=(0,e.useComposedRefs)(d,z),C=(0,k.useDirection)(r),[D,E]=(0,j.useControllableState)({prop:s,defaultProp:t??null,onChange:v,caller:o}),[F,G]=b.useState(!1),H=(0,i.useCallbackRef)(w),I=q(f),J=b.useRef(!1),[K,L]=b.useState(0);return b.useEffect(()=>{let a=z.current;if(a)return a.addEventListener(m,H),()=>a.removeEventListener(m,H)},[H]),(0,l.jsx)(u,{scope:f,orientation:g,dir:C,loop:p,currentTabStopId:D,onItemFocus:b.useCallback(a=>E(a),[E]),onItemShiftTab:b.useCallback(()=>G(!0),[]),onFocusableItemAdd:b.useCallback(()=>L(a=>a+1),[]),onFocusableItemRemove:b.useCallback(()=>L(a=>a-1),[]),children:(0,l.jsx)(h.Primitive.div,{tabIndex:F||0===K?-1:0,"data-orientation":g,...y,ref:A,style:{outline:"none",...a.style},onMouseDown:(0,c.composeEventHandlers)(a.onMouseDown,()=>{J.current=!0}),onFocus:(0,c.composeEventHandlers)(a.onFocus,a=>{let b=!J.current;if(a.target===a.currentTarget&&b&&!F){let b=new CustomEvent(m,n);if(a.currentTarget.dispatchEvent(b),!b.defaultPrevented){let a=I().filter(a=>a.focusable);B([a.find(a=>a.active),a.find(a=>a.id===D),...a].filter(Boolean).map(a=>a.ref.current),x)}}J.current=!1}),onBlur:(0,c.composeEventHandlers)(a.onBlur,()=>G(!1))})})}),y="RovingFocusGroupItem",z=b.forwardRef((a,d)=>{let{__scopeRovingFocusGroup:e,focusable:f=!0,active:i=!1,tabStopId:j,children:k,...m}=a,n=(0,g.useId)(),o=j||n,r=v(y,e),s=r.currentTabStopId===o,t=q(e),{onFocusableItemAdd:u,onFocusableItemRemove:w,currentTabStopId:x}=r;return b.useEffect(()=>{if(f)return u(),()=>w()},[f,u,w]),(0,l.jsx)(p.ItemSlot,{scope:e,id:o,focusable:f,active:i,children:(0,l.jsx)(h.Primitive.span,{tabIndex:s?0:-1,"data-orientation":r.orientation,...m,ref:d,onMouseDown:(0,c.composeEventHandlers)(a.onMouseDown,a=>{f?r.onItemFocus(o):a.preventDefault()}),onFocus:(0,c.composeEventHandlers)(a.onFocus,()=>r.onItemFocus(o)),onKeyDown:(0,c.composeEventHandlers)(a.onKeyDown,a=>{if("Tab"===a.key&&a.shiftKey)return void r.onItemShiftTab();if(a.target!==a.currentTarget)return;let b=function(a,b,c){var d;let e=(d=a.key,"rtl"!==c?d:"ArrowLeft"===d?"ArrowRight":"ArrowRight"===d?"ArrowLeft":d);if(!("vertical"===b&&["ArrowLeft","ArrowRight"].includes(e))&&!("horizontal"===b&&["ArrowUp","ArrowDown"].includes(e)))return A[e]}(a,r.orientation,r.dir);if(void 0!==b){if(a.metaKey||a.ctrlKey||a.altKey||a.shiftKey)return;a.preventDefault();let e=t().filter(a=>a.focusable).map(a=>a.ref.current);if("last"===b)e.reverse();else if("prev"===b||"next"===b){var c,d;"prev"===b&&e.reverse();let f=e.indexOf(a.currentTarget);e=r.loop?(c=e,d=f+1,c.map((a,b)=>c[(d+b)%c.length])):e.slice(f+1)}setTimeout(()=>B(e))}}),children:"function"==typeof k?k({isCurrentTabStop:s,hasTabStop:null!=x}):k})})});z.displayName=y;var A={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function B(a,b=!1){let c=document.activeElement;for(let d of a)if(d===c||(d.focus({preventScroll:b}),document.activeElement!==c))return}a.s(["Item",()=>z,"Root",()=>w,"createRovingFocusGroupScope",()=>t])},65151,a=>{"use strict";let b=(0,a.i(70106).default)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Circle",()=>b],65151)},91115,a=>{"use strict";function b(a){let b=function(a){if("string"!=typeof a)return;let b=a.trim();if(!b)return;let c=b.startsWith("+"),d=b.replace(/\D+/g,"");if(d){if(c)return`+${d}`;if(10===d.length)return`+1${d}`;if(d.length>10)return`+${d}`}}(a);if(!b)return"";let c=b.slice(-4),d=b.slice(0,Math.max(2,b.length-4)).replace(/\d/g,"*");return`${d}${c}`}a.s(["maskPhoneNumber",()=>b])},59768,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(35112),e=a.i(99570),f=a.i(66718),g=a.i(70430),h=a.i(48468),i=a.i(24348),j=a.i(91115);function k({action:a,initialState:d}){let[k,n]=(0,c.useActionState)(a,d),[o,p]=(0,c.useState)(d.contactMethod??"email"),[q,r]=(0,c.useState)(k.phone??"");(0,c.useEffect)(()=>{let a=k.contactMethod;a&&a!==o&&(0,c.startTransition)(()=>{p(a)})},[k.contactMethod,o]),(0,c.useEffect)(()=>{"success"===k.status&&(0,c.startTransition)(()=>{r("")}),k.phone&&(0,c.startTransition)(()=>{r(k.phone??"")})},[k.status,k.phone]);let s="otp_sent"===k.status&&"phone"===o,t=(0,c.useMemo)(()=>s?k.maskedPhone??(k.phone?(0,j.maskPhoneNumber)(k.phone):null):q?(0,j.maskPhoneNumber)(q)||q:null,[s,k.maskedPhone,k.phone,q]);return(0,b.jsxs)("form",{action:n,className:"grid gap-6 rounded-2xl border border-outline/20 bg-surface p-6 shadow-subtle",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h1",{className:"text-headline-md font-semibold text-on-surface",children:"Reset your password"}),(0,b.jsx)("p",{className:"text-body-md text-on-surface/70",children:"Choose how you would like to verify your identity. We will send a secure link or code before you set a new password."})]}),(0,b.jsxs)("fieldset",{className:"space-y-3 rounded-xl border border-outline/25 p-4",children:[(0,b.jsx)("legend",{className:"text-body-md font-semibold text-on-surface",children:"Choose verification method"}),(0,b.jsxs)(h.RadioGroup,{name:"contact_method",value:o,onValueChange:a=>p(a),className:"grid gap-3 md:grid-cols-2",children:[(0,b.jsx)(l,{id:"reset-contact-email",value:"email",title:"Email",description:"Send me a password reset link"}),(0,b.jsx)(l,{id:"reset-contact-phone",value:"phone",title:"Phone",description:"Send me a verification code by text"})]})]}),"email"===o?(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"reset-email",children:"Email"}),(0,b.jsx)(f.Input,{id:"reset-email",name:"email",type:"email",autoComplete:"email",required:!0,placeholder:"you@example.ca"}),(0,b.jsx)("p",{className:"text-label-sm text-muted-foreground",children:"We will email a secure link to update your password."})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("input",{type:"hidden",name:"stage",value:s?"verify":"request"}),s?(0,b.jsx)("input",{type:"hidden",name:"otp_phone",value:k.phone??q}):null,(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"reset-phone",children:"Phone number"}),(0,b.jsx)(f.Input,{id:"reset-phone",name:"phone",type:"tel",inputMode:"tel",autoComplete:"tel",placeholder:"+16475551234",value:q,onChange:a=>r(a.target.value),disabled:s,required:!s}),(0,b.jsx)("p",{className:"text-label-sm text-muted-foreground",children:"Include your country code so we can text you a verification code."})]}),s?(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"reset-otp",children:"Verification code"}),(0,b.jsx)(f.Input,{id:"reset-otp",name:"otp_code",inputMode:"numeric",pattern:"[0-9]*",maxLength:6,placeholder:"123456",required:!0}),(0,b.jsxs)("p",{className:"text-label-sm text-muted-foreground",children:["We texted a 6-digit code to ",t??"your phone number",". Codes expire after 5 minutes."]})]}):null,s&&k.message?(0,b.jsx)("p",{className:"text-label-sm font-medium text-primary",children:k.message}):null,s?(0,b.jsxs)("div",{className:"grid gap-2 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"reset-new-password",children:"New password"}),(0,b.jsx)(f.Input,{id:"reset-new-password",name:"new_password",type:"password",autoComplete:"new-password",minLength:8,required:!0})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"reset-confirm-password",children:"Confirm new password"}),(0,b.jsx)(f.Input,{id:"reset-confirm-password",name:"confirm_password",type:"password",autoComplete:"new-password",minLength:8,required:!0})]})]}):null]}),k.error?(0,b.jsxs)(i.Alert,{variant:"destructive",children:[(0,b.jsx)(i.AlertTitle,{children:"We could not reset your password"}),(0,b.jsx)(i.AlertDescription,{children:k.error})]}):null,"success"===k.status&&k.message?(0,b.jsx)(i.Alert,{className:"border-secondary bg-secondary-container text-on-secondary-container",children:(0,b.jsx)(i.AlertDescription,{children:k.message})}):null,(0,b.jsxs)("div",{className:"flex flex-col items-start gap-3 sm:flex-row sm:items-center",children:[(0,b.jsx)(m,{otpPending:s,contactMethod:o}),s?(0,b.jsx)(e.Button,{type:"submit",name:"intent",value:"cancel",variant:"outline",formNoValidate:!0,children:"Use a different number"}):null]})]})}function l({id:a,value:c,title:d,description:e}){return(0,b.jsxs)("label",{htmlFor:a,className:"flex cursor-pointer items-start gap-3 rounded-xl border border-outline/40 bg-surface-container p-3 text-body-md font-medium text-on-surface shadow-subtle transition state-layer-color-primary hover:border-primary hover:state-layer-hover focus-within:outline-none focus-within:ring-2 focus-within:ring-primary focus-within:state-layer-focus",children:[(0,b.jsx)(h.RadioGroupItem,{id:a,value:c,className:"mt-1"}),(0,b.jsxs)("span",{children:[d,(0,b.jsx)("span",{className:"mt-1 block text-label-sm font-normal text-muted-foreground",children:e})]})]})}function m({otpPending:a,contactMethod:c}){let{pending:f}=(0,d.useFormStatus)();return(0,b.jsx)(e.Button,{type:"submit",disabled:f,className:"w-full justify-center sm:w-auto",children:f?a?"Updating...":"Sending...":a?"Verify code & update password":"email"===c?"Send reset link":"Send verification code"})}a.s(["ResetPasswordForm",()=>k])}];

//# sourceMappingURL=_e7f4ed87._.js.map