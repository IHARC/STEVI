module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},50645,a=>{a.n(a.i(27572))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},47907,a=>{a.n(a.i(39621))},68023,a=>{a.n(a.i(77290))},35330,a=>{"use strict";var b=a.i(7997),c=a.i(717),d=a.i(39138);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-[var(--md-sys-shape-corner-medium)] border border-outline/12 bg-surface-container-low text-body-md text-on-surface shadow-level-1",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col gap-space-sm p-space-lg pb-space-sm text-on-surface",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("text-title-lg font-medium leading-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-body-sm text-on-surface-variant",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-space-lg pt-0 text-body-md text-on-surface",a),...c}));i.displayName="CardContent",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center gap-space-sm p-space-lg pt-0",a),...c})).displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardHeader",()=>f,"CardTitle",()=>g])},96942,59797,a=>{"use strict";var b=a.i(84347);let c=a=>"boolean"==typeof a?`${a}`:0===a?"0":a,d=b.clsx;a.s(["cva",0,(a,b)=>e=>{var f;if((null==b?void 0:b.variants)==null)return d(a,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:g,defaultVariants:h}=b,i=Object.keys(g).map(a=>{let b=null==e?void 0:e[a],d=null==h?void 0:h[a];if(null===b)return null;let f=c(b)||c(d);return g[a][f]}),j=e&&Object.entries(e).reduce((a,b)=>{let[c,d]=b;return void 0===d||(a[c]=d),a},{});return d(a,i,null==b||null==(f=b.compoundVariants)?void 0:f.reduce((a,b)=>{let{class:c,className:d,...e}=b;return Object.entries(e).every(a=>{let[b,c]=a;return Array.isArray(c)?c.includes({...h,...j}[b]):({...h,...j})[b]===c})?[...a,c,d]:a},[]),null==e?void 0:e.class,null==e?void 0:e.className)}],96942);let e="hover:state-layer-hover focus-visible:state-layer-focus active:state-layer-pressed",f={primary:`state-layer-color-primary ${e}`,"primary-container":`state-layer-color-primary-container ${e}`,secondary:`state-layer-color-secondary ${e}`,"secondary-container":`state-layer-color-secondary-container ${e}`,surface:`state-layer-color-surface ${e}`,"surface-container":`state-layer-color-surface-container ${e}`,inverse:`state-layer-color-inverse-surface ${e}`,error:`state-layer-color-error ${e}`},g={...f,brand:f.primary,"brand-soft":f["primary-container"],supportive:f.secondary,"supportive-container":f["secondary-container"],destructive:f.error,neutral:f.surface,"neutral-container":f["surface-container"]};function h(a){return a?g[a]:""}a.s(["getStateLayerClasses",()=>h],59797)},38904,63770,a=>{"use strict";let b,c,d;var e=a.i(7997),f=a.i(717);function g(a,b){if("function"==typeof a)return a(b);null!=a&&(a.current=b)}function h(...a){return b=>{let c=!1,d=a.map(a=>{let d=g(a,b);return c||"function"!=typeof d||(c=!0),d});if(c)return()=>{for(let b=0;b<d.length;b++){let c=d[b];"function"==typeof c?c():g(a[b],null)}}}}a.s(["composeRefs",()=>h],63770);var i=((d=f.forwardRef((a,b)=>{let{children:c,...d}=a;if(f.isValidElement(c)){var e;let a,g,i=(e=c,(g=(a=Object.getOwnPropertyDescriptor(e.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.ref:(g=(a=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.props.ref:e.props.ref||e.ref),j=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(d,c.props);return c.type!==f.Fragment&&(j.ref=b?h(b,i):i),f.cloneElement(c,j)}return f.Children.count(c)>1?f.Children.only(null):null})).displayName="Slot.SlotClone",b=d,(c=f.forwardRef((a,c)=>{let{children:d,...g}=a,h=f.Children.toArray(d),i=h.find(k);if(i){let a=i.props.children,d=h.map(b=>b!==i?b:f.Children.count(a)>1?f.Children.only(null):f.isValidElement(a)?a.props.children:null);return(0,e.jsx)(b,{...g,ref:c,children:f.isValidElement(a)?f.cloneElement(a,void 0,d):null})}return(0,e.jsx)(b,{...g,ref:c,children:d})})).displayName="Slot.Slot",c),j=Symbol("radix.slottable");function k(a){return f.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===j}var l=a.i(96942),m=a.i(39138),n=a.i(59797);let o=(0,l.cva)("inline-flex items-center justify-center gap-space-xs whitespace-nowrap rounded-[var(--md-sys-shape-corner-extra-small)] text-label-lg transition-colors motion-duration-short motion-ease-standard focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-surface disabled:pointer-events-none disabled:opacity-60 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-level-2 hover:bg-primary/92 focus-visible:ring-primary",destructive:"bg-destructive text-destructive-foreground shadow-level-2 hover:bg-destructive/90 focus-visible:ring-destructive",outline:"border border-outline bg-surface text-on-surface shadow-level-1 hover:bg-surface-container focus-visible:ring-primary",secondary:"bg-secondary-container text-on-secondary-container shadow-level-1 hover:bg-secondary-container/90 focus-visible:ring-secondary",ghost:"text-primary focus-visible:ring-primary",link:"text-primary underline-offset-4 hover:underline focus-visible:ring-transparent"},size:{default:"h-10 px-space-md",sm:"h-8 px-space-sm text-label-md",lg:"h-11 px-space-lg text-label-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),p={default:"brand",destructive:"destructive",outline:"neutral",secondary:"supportive-container",ghost:"brand",link:null},q=f.forwardRef(({className:a,variant:b,size:c,stateLayerTone:d,asChild:f=!1,...g},h)=>{let j=p[b??"default"],k=(0,n.getStateLayerClasses)(d??j);return(0,e.jsx)(f?i:"button",{className:(0,m.cn)(o({variant:b,size:c}),k,a),ref:h,...g})});q.displayName="Button",a.s(["Button",()=>q],38904)},19637,a=>{"use strict";var b=a.i(7997),c=a.i(96942),d=a.i(39138),e=a.i(59797);let f=(0,c.cva)("inline-flex items-center rounded-[var(--md-sys-shape-corner-extra-small)] border px-2.5 py-0.5 text-label-sm transition-colors motion-duration-short motion-ease-standard focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),g={default:"brand",secondary:"supportive",destructive:"destructive",outline:"neutral"};function h({className:a,variant:c,stateLayerTone:h,...i}){let j=g[c??"default"],k=(0,e.getStateLayerClasses)(h??j);return(0,b.jsx)("div",{className:(0,d.cn)(f({variant:c}),k,a),...i})}a.s(["Badge",()=>h])},49378,a=>{"use strict";var b=a.i(11857);let c=(0,b.registerClientReference)(function(){throw Error("Attempted to call Label() from the server but Label is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@radix-ui/react-label/dist/index.mjs <module evaluation>","Label"),d=(0,b.registerClientReference)(function(){throw Error("Attempted to call Root() from the server but Root is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@radix-ui/react-label/dist/index.mjs <module evaluation>","Root");a.s(["Label",0,c,"Root",0,d])},86751,a=>{"use strict";var b=a.i(11857);let c=(0,b.registerClientReference)(function(){throw Error("Attempted to call Label() from the server but Label is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@radix-ui/react-label/dist/index.mjs","Label"),d=(0,b.registerClientReference)(function(){throw Error("Attempted to call Root() from the server but Root is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@radix-ui/react-label/dist/index.mjs","Root");a.s(["Label",0,c,"Root",0,d])},29558,a=>{"use strict";a.i(49378);var b=a.i(86751);a.n(b)},43562,a=>{"use strict";var b=a.i(7997),c=a.i(717),d=a.i(29558),e=a.i(96942),f=a.i(39138);let g=(0,e.cva)("text-label-md font-medium leading-none text-on-surface peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Root,{ref:e,className:(0,f.cn)(g(),a),...c}));h.displayName=d.Root.displayName,a.s(["Label",()=>h])},55583,a=>{"use strict";var b=a.i(7997),c=a.i(717),d=a.i(39138);let e=c.forwardRef(({className:a,type:c,...e},f)=>(0,b.jsx)("input",{type:c,className:(0,d.cn)("flex h-12 w-full rounded-lg border border-outline bg-surface px-space-md py-space-sm text-body-md text-on-surface shadow-level-1 ring-offset-surface transition placeholder:text-on-surface-variant/70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-surface data-[invalid=true]:border-error file:border-0 file:bg-transparent file:text-label-sm file:font-medium file:text-on-surface disabled:cursor-not-allowed disabled:opacity-60 md:h-11",a),ref:f,...e}));e.displayName="Input",a.s(["Input",()=>e])},45310,a=>{"use strict";var b=a.i(7997),c=a.i(717),d=a.i(39138);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{className:"relative w-full overflow-auto",children:(0,b.jsx)("table",{ref:e,className:(0,d.cn)("w-full caption-bottom text-body-md",a),...c})}));e.displayName="Table";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("thead",{ref:e,className:(0,d.cn)("[&_tr]:border-b",a),...c}));f.displayName="TableHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tbody",{ref:e,className:(0,d.cn)("[&_tr:last-child]:border-0",a),...c}));g.displayName="TableBody",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tfoot",{ref:e,className:(0,d.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...c})).displayName="TableFooter";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tr",{ref:e,className:(0,d.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...c}));h.displayName="TableRow";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("th",{ref:e,className:(0,d.cn)("h-12 px-space-md text-left align-middle text-label-lg font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...c}));i.displayName="TableHead";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("td",{ref:e,className:(0,d.cn)("p-space-md align-middle [&:has([role=checkbox])]:pr-0",a),...c}));j.displayName="TableCell",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("caption",{ref:e,className:(0,d.cn)("mt-space-md text-body-md text-muted-foreground",a),...c})).displayName="TableCaption",a.s(["Table",()=>e,"TableBody",()=>g,"TableCell",()=>j,"TableHead",()=>i,"TableHeader",()=>f,"TableRow",()=>h])},65626,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call UserSavedSearches() from the server but UserSavedSearches is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/app/(portal)/admin/users/user-saved-searches.tsx <module evaluation>","UserSavedSearches");a.s(["UserSavedSearches",0,b])},22560,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call UserSavedSearches() from the server but UserSavedSearches is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/app/(portal)/admin/users/user-saved-searches.tsx","UserSavedSearches");a.s(["UserSavedSearches",0,b])},13885,a=>{"use strict";a.i(65626);var b=a.i(22560);a.n(b)},11539,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call UserPeekSheet() from the server but UserPeekSheet is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/app/(portal)/admin/users/user-peek-sheet.tsx <module evaluation>","UserPeekSheet");a.s(["UserPeekSheet",0,b])},16754,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call UserPeekSheet() from the server but UserPeekSheet is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/app/(portal)/admin/users/user-peek-sheet.tsx","UserPeekSheet");a.s(["UserPeekSheet",0,b])},7940,a=>{"use strict";a.i(11539);var b=a.i(16754);a.n(b)},49446,a=>{"use strict";var b=a.i(7997),c=a.i(95936);a.i(70396);var d=a.i(73727),e=a.i(9919),f=a.i(42145),g=a.i(65108),h=a.i(39251),i=a.i(10508),j=a.i(46592),k=a.i(13885),l=a.i(7940),m=a.i(19637),n=a.i(38904),o=a.i(35330),p=a.i(55583),q=a.i(43562),r=a.i(45310);let s={all:"All users",clients:"Clients",partners:"Partners",staff:"IHARC staff & volunteers"};function t(a){return(Array.isArray(a)?a[0]:a)||null}function u(a,b){let c=b.toString();return`/admin/users/${a}${c?`?${c}`:""}`}function v({segment:a,page:d,hasMore:e,params:f}){let g=d>1?d-1:null,h=e?d+1:null,i=new URLSearchParams(f);g?i.set("page",String(g)):i.delete("page");let j=new URLSearchParams(f);return h&&j.set("page",String(h)),(0,b.jsxs)("div",{className:"flex items-center justify-between gap-space-sm rounded-2xl border border-outline/20 bg-surface-container p-space-sm text-body-sm",children:[(0,b.jsxs)("span",{className:"text-muted-foreground",children:["Page ",d,e?" • more available":""]}),(0,b.jsxs)("div",{className:"flex items-center gap-space-xs",children:[(0,b.jsx)(n.Button,{asChild:!0,variant:"outline",size:"sm",disabled:!g,children:(0,b.jsx)(c.default,{href:g?u(a,i):"#",children:"← Prev"})}),(0,b.jsx)(n.Button,{asChild:!0,variant:"outline",size:"sm",disabled:!h,children:(0,b.jsx)(c.default,{href:h?u(a,j):"#",children:"Next →"})})]})]})}async function w({params:a,searchParams:p}){let q=(await a).segment,s=(0,h.coerceSegment)(q);s||(0,d.redirect)("/admin/users/all");let u=await (0,e.createSupabaseRSCClient)(),w=await (0,g.loadPortalAccess)(u);w||(0,d.redirect)(`/login?next=/admin/users/${q}`),w.canAccessAdminWorkspace||(0,d.redirect)((0,j.resolveDefaultWorkspacePath)(w)),await (0,f.ensurePortalProfile)(u,w.userId);let A=await (0,h.loadProfileEnums)(u),B=p?await p:{},C=(0,h.parsePageParam)(B.page),D=t(B.status),E=t(B.role),F=function(a){let b=Array.isArray(a)?a[0]:a;if(!b)return null;let c=Number.parseInt(b,10);return Number.isFinite(c)?c:null}(B.org),G=t(B.q),H="name"===t(B.sort)?"name":"recent",I=(0,h.parseAffiliationStatus)(D,A),[J,K,L,M,N]=await Promise.all([(0,h.fetchAdminUserSummary)(u),(0,h.fetchAdminUsers)(u,s,{page:C,pageSize:25,status:I,role:E,organizationId:F??void 0,search:G,sort:H}),u.schema("core").from("organizations").select("id, name").order("name"),(0,i.getPortalRoles)(u),(0,i.getIharcRoles)(u)]);if(L.error)throw L.error;let O=(L.data??[]).map(a=>({id:a.id,name:a.name}))??[],P=[...M,...N].map(a=>({value:a,label:(0,i.formatEnumLabel)(a.replace(/^portal_/,"").replace(/^iharc_/,""))})).sort((a,b)=>a.label.localeCompare(b.label)),Q=[{value:"",label:"Any status"},...(0,i.toOptions)(A.affiliationStatuses)],R=new URLSearchParams;D&&R.set("status",D),E&&R.set("role",E),F&&R.set("org",String(F)),G&&R.set("q",G),"name"===H&&R.set("sort","name"),R.set("page",String(C));let S=R.toString();return(0,b.jsxs)("div",{className:"page-shell page-stack",children:[(0,b.jsxs)("header",{className:"flex flex-col gap-space-xs",children:[(0,b.jsx)("p",{className:"text-label-sm font-medium uppercase text-muted-foreground",children:"Admin · Access"}),(0,b.jsxs)("div",{className:"flex flex-col gap-space-sm sm:flex-row sm:items-center sm:justify-between",children:[(0,b.jsxs)("div",{className:"space-y-space-2xs",children:[(0,b.jsx)("h1",{className:"text-title-lg text-on-surface sm:text-headline-sm",children:"User management"}),(0,b.jsx)("p",{className:"max-w-3xl text-body-md text-muted-foreground sm:text-body-lg",children:"Review clients, partners, and IHARC staff at scale. Filter, paginate, and jump into detail pages for profile updates, roles, and history."})]}),(0,b.jsx)(n.Button,{asChild:!0,children:(0,b.jsx)(c.default,{href:"/admin/profiles",children:"Open verification & invites"})})]})]}),(0,b.jsxs)("section",{className:"grid gap-space-sm md:grid-cols-4",children:[(0,b.jsx)(x,{label:"Total users",value:J.total}),(0,b.jsx)(x,{label:"Clients",value:J.clients}),(0,b.jsx)(x,{label:"Partners",value:J.partners}),(0,b.jsx)(x,{label:"Staff & volunteers",value:J.staff}),(0,b.jsx)(x,{label:"Pending",value:J.pending,tone:"outline"}),(0,b.jsx)(x,{label:"Revoked",value:J.revoked,tone:"secondary"})]}),(0,b.jsx)(y,{active:s,params:R}),(0,b.jsx)(k.UserSavedSearches,{segment:s,currentParams:S}),(0,b.jsx)(z,{segment:s,organizations:O,params:R,statusOptions:Q,roleOptions:P}),(0,b.jsxs)(o.Card,{className:"border-outline/20 bg-surface-container",children:[(0,b.jsxs)(o.CardHeader,{className:"flex flex-col gap-space-2xs sm:flex-row sm:items-center sm:justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(o.CardTitle,{className:"text-title-md",children:"Users"}),(0,b.jsx)(o.CardDescription,{children:"Compact list with pagination and role context."})]}),(0,b.jsxs)(m.Badge,{variant:"outline",className:"text-label-sm",children:[K.total," total"]})]}),(0,b.jsx)(o.CardContent,{className:"overflow-x-auto",children:(0,b.jsxs)(r.Table,{children:[(0,b.jsx)(r.TableHeader,{children:(0,b.jsxs)(r.TableRow,{children:[(0,b.jsx)(r.TableHead,{children:"Name"}),(0,b.jsx)(r.TableHead,{children:"Type"}),(0,b.jsx)(r.TableHead,{children:"Organization"}),(0,b.jsx)(r.TableHead,{children:"Roles"}),(0,b.jsx)(r.TableHead,{children:"Status"}),(0,b.jsx)(r.TableHead,{children:"Last seen"}),(0,b.jsx)(r.TableHead,{className:"text-right",children:"Actions"})]})}),(0,b.jsx)(r.TableBody,{children:0===K.items.length?(0,b.jsx)(r.TableRow,{children:(0,b.jsx)(r.TableCell,{colSpan:7,className:"text-center text-muted-foreground",children:"No users match these filters."})}):K.items.map(a=>(0,b.jsxs)(r.TableRow,{children:[(0,b.jsx)(r.TableCell,{children:(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"font-medium text-on-surface",children:a.displayName}),a.positionTitle?(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:a.positionTitle}):null,(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:a.email??"No email"})]})}),(0,b.jsx)(r.TableCell,{className:"capitalize",children:a.affiliationType.replace("_"," ")}),(0,b.jsx)(r.TableCell,{children:a.organizationName?(0,b.jsx)("span",{className:"text-on-surface",children:a.organizationName}):(0,b.jsx)("span",{className:"text-muted-foreground text-sm",children:"None"})}),(0,b.jsx)(r.TableCell,{children:(0,b.jsxs)("div",{className:"flex flex-wrap gap-space-2xs",children:[a.roles.portal.map(a=>(0,b.jsx)(m.Badge,{variant:"outline",className:"capitalize",children:a.replace("portal_","")},a)),a.roles.iharc.map(a=>(0,b.jsx)(m.Badge,{variant:"secondary",className:"capitalize",children:a.replace("iharc_","")},a))]})}),(0,b.jsx)(r.TableCell,{children:(0,b.jsx)(m.Badge,{variant:"approved"===a.affiliationStatus?"default":"pending"===a.affiliationStatus?"outline":"secondary",children:a.affiliationStatus})}),(0,b.jsx)(r.TableCell,{className:"text-sm text-muted-foreground",children:a.lastSeenAt?new Date(a.lastSeenAt).toLocaleString("en-CA",{dateStyle:"medium",timeStyle:"short"}):"—"}),(0,b.jsxs)(r.TableCell,{className:"flex justify-end gap-space-xs",children:[(0,b.jsx)(l.UserPeekSheet,{user:a,roleOptions:P}),(0,b.jsx)(n.Button,{asChild:!0,size:"sm",variant:"outline",children:(0,b.jsx)(c.default,{href:`/admin/users/profile/${a.profileId}`,children:"View"})})]})]},a.profileId))})]})})]}),(0,b.jsx)(v,{segment:s,page:K.page,hasMore:K.hasMore,params:R})]})}function x({label:a,value:c,tone:d="default"}){return(0,b.jsx)(o.Card,{className:"border-outline/20",children:(0,b.jsxs)(o.CardHeader,{className:"flex flex-row items-center justify-between gap-space-xs",children:[(0,b.jsx)(o.CardTitle,{className:"text-title-sm text-muted-foreground",children:a}),(0,b.jsx)(m.Badge,{variant:d,children:c})]})})}function y({active:a,params:d}){return(0,b.jsx)("div",{className:"flex flex-wrap gap-space-xs",children:["all","clients","partners","staff"].map(e=>{let f=u(e,d),g=e===a;return(0,b.jsx)(n.Button,{asChild:!0,variant:g?"default":"outline",size:"sm",className:"capitalize",children:(0,b.jsx)(c.default,{href:f,children:s[e]})},e)})})}function z({segment:a,organizations:c,params:d,statusOptions:e,roleOptions:f}){let g=d.get("status")??"",h=d.get("role")??"",i=d.get("org")??"",j=d.get("q")??"",k=d.get("sort")??"recent";return(0,b.jsxs)("form",{className:"grid gap-space-sm rounded-2xl border border-outline/20 bg-surface-container p-space-sm md:grid-cols-5",action:`/admin/users/${a}`,children:[(0,b.jsxs)("div",{className:"md:col-span-2 space-y-space-2xs",children:[(0,b.jsx)(q.Label,{htmlFor:"q",children:"Search"}),(0,b.jsx)(p.Input,{id:"q",name:"q",placeholder:"Name or email",defaultValue:j})]}),(0,b.jsxs)("div",{className:"space-y-space-2xs",children:[(0,b.jsx)(q.Label,{htmlFor:"status",children:"Status"}),(0,b.jsx)("select",{id:"status",name:"status",defaultValue:g,className:"w-full rounded-lg border border-outline/30 bg-surface px-space-sm py-space-2xs text-body-sm",children:e.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value||"any"))})]}),(0,b.jsxs)("div",{className:"space-y-space-2xs",children:[(0,b.jsx)(q.Label,{htmlFor:"role",children:"Role"}),(0,b.jsxs)("select",{id:"role",name:"role",defaultValue:h,className:"w-full rounded-lg border border-outline/30 bg-surface px-space-sm py-space-2xs text-body-sm capitalize",children:[(0,b.jsx)("option",{value:"",children:"Any role"}),f.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))]})]}),(0,b.jsxs)("div",{className:"space-y-space-2xs",children:[(0,b.jsx)(q.Label,{htmlFor:"org",children:"Organization"}),(0,b.jsxs)("select",{id:"org",name:"org",defaultValue:i,className:"w-full rounded-lg border border-outline/30 bg-surface px-space-sm py-space-2xs text-body-sm",children:[(0,b.jsx)("option",{value:"",children:"Any org"}),c.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})]}),(0,b.jsxs)("div",{className:"space-y-space-2xs",children:[(0,b.jsx)(q.Label,{htmlFor:"sort",children:"Sort"}),(0,b.jsxs)("select",{id:"sort",name:"sort",defaultValue:k,className:"w-full rounded-lg border border-outline/30 bg-surface px-space-sm py-space-2xs text-body-sm",children:[(0,b.jsx)("option",{value:"recent",children:"Recent activity"}),(0,b.jsx)("option",{value:"name",children:"Name A–Z"})]})]}),(0,b.jsxs)("div",{className:"md:col-span-5 flex flex-wrap justify-end gap-space-xs",children:[(0,b.jsx)(n.Button,{type:"submit",variant:"default",children:"Apply"}),(0,b.jsx)(n.Button,{type:"reset",variant:"ghost",children:"Reset"})]})]})}a.s(["default",()=>w,"dynamic",0,"force-dynamic"])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__df6b50ab._.js.map